<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cape Coral Home Retreat - Guest Portal</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            min-height: 100vh;
        }
        .nav {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,180,216,0.1);
            border-left: 6px solid #00B4D8;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(245,158,11,0.1);
            border-left: 6px solid #F77F00;
        }
        .btn {
            background: linear-gradient(135deg, #00B4D8, #0096C7);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            border-bottom: 4px solid #F77F00;
            font-weight: 600;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        .btn:hover {
            background: linear-gradient(135deg, #0096C7, #0077B6);
            transform: translateY(-1px);
        }
        .btn:active {
            transform: translateY(0);
        }
        .btn.active {
            background: linear-gradient(135deg, #0077B6, #023E8A);
            border-bottom-color: #D97706;
        }
        .btn-danger {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            border-bottom-color: #B91C1C;
        }
        .btn-danger:hover {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
        }
        .btn-success {
            background: linear-gradient(135deg, #10B981, #059669);
            border-bottom-color: #047857;
        }
        .btn-success:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }
        .btn:disabled {
            background: #9CA3AF !important;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .card {
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            padding: 24px;
            margin: 20px 0;
            border-radius: 12px;
            border-left: 5px solid #00B4D8;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .admin-card {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-left-color: #F59E0B;
        }
        .emergency-card {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left-color: #EF4444;
        }
        .attraction-card {
            background: linear-gradient(135deg, #FFFBEB, #FEF3C7);
            border-left-color: #F77F00;
            transition: all 0.2s ease;
        }
        .attraction-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(247,127,0,0.2);
        }
        h1, h2, h3 {
            color: #1F2937;
        }
        .phone-link {
            color: #00B4D8;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s ease;
        }
        .phone-link:hover {
            color: #0096C7;
        }
        .form-group {
            margin: 20px 0;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #374151;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: #00B4D8;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0,180,216,0.1);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .admin-login {
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }
        .alert {
            padding: 16px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }
        .alert-success {
            background: linear-gradient(135deg, #D1FAE5, #A7F3D0);
            border-left: 4px solid #10B981;
            color: #065F46;
        }
        .alert-error {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left: 4px solid #EF4444;
            color: #991B1B;
        }
        .alert-info {
            background: linear-gradient(135deg, #DBEAFE, #BFDBFE);
            border-left: 4px solid #3B82F6;
            color: #1E40AF;
        }
        .small-text {
            font-size: 14px;
            color: #6B7280;
            margin-top: 5px;
        }
        .welcome-banner {
            background: linear-gradient(135deg, #00B4D8, #0077B6);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-bottom: 6px solid #F77F00;
            text-align: center;
        }
        .welcome-banner h2 {
            color: white;
            margin-bottom: 10px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        .nav-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 15px 0;
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .nav-grid {
                flex-direction: column;
                align-items: center;
            }
        }
        .integration-section {
            background: linear-gradient(135deg, #F0F9FF, #E0F2FE);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 5px solid #3B82F6;
        }
        .cleaning-history {
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="nav">
        <h1>üèñÔ∏è Cape Coral Home Retreat</h1>
        <p>123 SW 51st Terrace, Cape Coral, Florida</p>
        <div id="guest-nav" class="nav-grid">
            <button class="btn active" onclick="showPage('home', this)">üè† Welcome</button>
            <button class="btn" onclick="showPage('access', this)">üîë Access Info</button>
            <button class="btn" onclick="showPage('attractions', this)">üìç Attractions</button>
            <button class="btn" onclick="showPage('rules', this)">üìã Rules</button>
            <button class="btn" onclick="showPage('emergency', this)">üìû Emergency</button>
            <button class="btn" id="admin-btn" onclick="showPage('admin-login', this)" style="display: none;">‚öôÔ∏è Admin</button>
        </div>
        <div id="admin-nav" class="nav-grid" style="display: none;">
            <button class="btn" onclick="showPage('admin-bookings', this)">üìÖ Bookings</button>
            <button class="btn" onclick="showPage('admin-property', this)">üè† Property</button>
            <button class="btn" onclick="showPage('admin-integrations', this)">üîó Integrations</button>
            <button class="btn" onclick="showPage('admin-data', this)">üíæ Data</button>
            <button class="btn btn-danger" onclick="logout()">üö™ Logout</button>
        </div>
    </div>

    <div class="content">
        <!-- Home Page -->
        <div id="home-page">
            <div class="welcome-banner">
                <h2>Welcome to Cape Coral Home Retreat!</h2>
                <p>Your tropical paradise awaits in beautiful Cape Coral, Florida!</p>
            </div>
            
            <div class="stats-grid">
                <div class="card">
                    <h3>üìÖ Current Booking</h3>
                    <p><strong>Guest:</strong> <span id="display-guest-name">John & Sarah Smith</span></p>
                    <p><strong>Check-in:</strong> <span id="display-checkin">2025-07-18</span></p>
                    <p><strong>Check-out:</strong> <span id="display-checkout">2025-07-21</span></p>
                    <p><strong>Guests:</strong> <span id="display-guest-count">4</span></p>
                    <p><strong>Confirmation:</strong> <span id="display-confirmation">ABC123</span></p>
                </div>
                
                <div class="card" style="border-left-color: #F77F00;">
                    <h3>üîë Access Information</h3>
                    <p><strong>Door Code:</strong> <span id="display-door-code">1234</span></p>
                    <p><strong>WiFi:</strong> <span id="display-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p><strong>Password:</strong> <span id="display-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Please keep this information secure</p>
                </div>
            </div>
        </div>

        <!-- Access Page -->
        <div id="access-page" style="display: none;">
            <h2>üîë Access Information</h2>
            <div class="stats-grid">
                <div class="card" style="background: linear-gradient(135deg, #DBEAFE, #BFDBFE); border-left-color: #2563EB;">
                    <h3>Door Access</h3>
                    <p style="font-size: 48px; font-weight: bold; color: #2563EB; margin: 15px 0; text-align: center;"><span id="access-door-code">1234</span></p>
                    <p style="text-align: center;">Enter this code on the front door keypad</p>
                </div>
                
                <div class="card" style="background: linear-gradient(135deg, #DCFCE7, #BBF7D0); border-left-color: #16A34A;">
                    <h3>WiFi Network</h3>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Connect your devices to stay online</p>
                </div>
            </div>
        </div>

        <!-- Attractions Page -->
        <div id="attractions-page" style="display: none;">
            <h2>üìç Local Attractions</h2>
            <div class="stats-grid">
                <div class="attraction-card">
                    <h3>Yacht Club Beach</h3>
                    <p>Beach ‚Ä¢ 2.5 miles (6 min drive) ‚Ä¢ ‚≠ê 4.5</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Beach at Four Freedoms Park</h3>
                    <p>Beach ‚Ä¢ 3.2 miles (8 min drive) ‚Ä¢ ‚≠ê 4.3</p>
                </div>
                <div class="attraction-card">
                    <h3>The Lobster Lady</h3>
                    <p>Restaurant ‚Ä¢ 4.8 miles (12 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
                <div class="attraction-card">
                    <h3>Rotary Park Environmental Center</h3>
                    <p>Nature ‚Ä¢ 5.1 miles (12 min drive) ‚Ä¢ ‚≠ê 4.4</p>
                </div>
                <div class="attraction-card">
                    <h3>Sun Splash Family Waterpark</h3>
                    <p>Entertainment ‚Ä¢ 6.3 miles (15 min drive) ‚Ä¢ ‚≠ê 4.1</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Farmers Market</h3>
                    <p>Shopping ‚Ä¢ 4.2 miles (10 min drive) ‚Ä¢ ‚≠ê 4.2</p>
                </div>
                <div class="attraction-card">
                    <h3>Edison and Ford Winter Estates</h3>
                    <p>Historical ‚Ä¢ 8.7 miles (20 min drive) ‚Ä¢ ‚≠ê 4.6</p>
                </div>
                <div class="attraction-card">
                    <h3>Seed to Table</h3>
                    <p>Restaurant ‚Ä¢ 15.2 miles to Naples (25 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
            </div>
        </div>

        <!-- Rules Page -->
        <div id="rules-page" style="display: none;">
            <h2>üìã Property Rules & Guidelines</h2>
            <div class="card">
                <p>‚úÖ Check-in: 4:00 PM - 9:00 PM (Please contact us if arriving after 9 PM)</p>
            </div>
            <div class="card">
                <p>‚úÖ Check-out: 11:00 AM (Late check-out available upon request)</p>
            </div>
            <div class="card">
                <p>‚úÖ No smoking anywhere on the property (including lanai and pool area)</p>
            </div>
            <div class="card">
                <p>‚úÖ Maximum occupancy: 6 guests</p>
            </div>
            <div class="card">
                <p>‚úÖ Quiet hours: 10:00 PM - 8:00 AM (Respect our neighbors)</p>
            </div>
            <div class="card">
                <p>‚úÖ Pool hours: 8:00 AM - 10:00 PM</p>
            </div>
            <div class="card">
                <p>‚úÖ No glass containers in pool area</p>
            </div>
            <div class="card">
                <p>‚úÖ Please rinse off before entering pool after beach visits</p>
            </div>
            <div class="card">
                <p>‚úÖ All towels and linens provided - no need to bring your own</p>
            </div>
            <div class="card">
                <p>‚úÖ Parking: Maximum 2 vehicles in driveway</p>
            </div>
            <div class="card">
                <p>‚úÖ No pets allowed (service animals welcome with prior notice)</p>
            </div>
            <div class="card">
                <p>‚úÖ Please dispose of trash in provided bins - pickup is Wednesday</p>
            </div>
        </div>

        <!-- Emergency Page -->
        <div id="emergency-page" style="display: none;">
            <h2>üìû Emergency Contacts</h2>
            <div class="stats-grid">
                <div class="emergency-card">
                    <h3>Property Manager</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395741234" class="phone-link">(239) 574-1234</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Emergency Services</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:911" class="phone-link">911</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Cape Coral Police</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395743223" class="phone-link">(239) 574-3223</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Lee Memorial Hospital</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12393432000" class="phone-link">(239) 343-2000</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="admin-login-page" style="display: none;">
            <div class="admin-login">
                <div class="admin-card card">
                    <h2>üîê Admin Access</h2>
                    <p>Enter admin password to manage property settings</p>
                    <div class="form-group">
                        <input type="password" id="admin-password" placeholder="Enter admin password" onkeypress="if(event.key==='Enter') login()">
                    </div>
                    <button class="btn btn-success" onclick="login()">Login</button>
                </div>
            </div>
        </div>

        <!-- Admin Bookings -->
        <div id="admin-bookings-page" style="display: none;">
            <h2>üìÖ Booking Management</h2>
            
            <div class="admin-card card">
                <h3>Current Booking Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Guest Name</label>
                        <input type="text" id="admin-guest-name" value="John & Sarah Smith">
                    </div>
                    <div class="form-group">
                        <label>Guest Count</label>
                        <input type="number" id="admin-guest-count" value="4" min="1" max="6">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Check-in Date</label>
                        <input type="date" id="admin-checkin" value="2025-07-18" onchange="validateDates()">
                    </div>
                    <div class="form-group">
                        <label>Check-out Date</label>
                        <input type="date" id="admin-checkout" value="2025-07-21" onchange="validateDates()">
                        <div id="date-error" class="alert-error" style="display: none; margin-top: 8px; padding: 10px; border-radius: 6px;">
                            Check-out must be at least 1 day after check-in
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Confirmation Code</label>
                        <input type="text" id="admin-confirmation" value="ABC123">
                    </div>
                    <div class="form-group">
                        <label>Door Code</label>
                        <input type="text" id="admin-door-code" value="1234">
                    </div>
                </div>
                <button class="btn btn-success" id="update-booking-btn" onclick="updateBooking()">Update Booking Info</button>
            </div>

            <div class="admin-card card">
                <h3>WiFi Settings</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Network Name</label>
                        <input type="text" id="admin-wifi-name" value="CapeCoral_Retreat_Guest">
                    </div>
                    <div class="form-group">
                        <label>WiFi Password</label>
                        <input type="text" id="admin-wifi-password" value="Tropical2025!">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateWifi()">Update WiFi Info</button>
            </div>

            <div class="admin-card card">
                <h3>Cleaning Schedule & Management</h3>
                
                <div class="form-group">
                    <label>Cleaning Company Contact</label>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="cleaning-company" placeholder="Company Name" value="Cape Coral Cleaning Services">
                        </div>
                        <div class="form-group">
                            <input type="tel" id="cleaning-phone" placeholder="Phone Number" value="(239) 555-0199">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Schedule Cleaning After Check-out</label>
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <input type="date" id="cleaning-date" style="flex: 1; min-width: 150px;">
                        <input type="time" id="cleaning-time" value="11:30" style="flex: 1; min-width: 120px;">
                        <button class="btn" onclick="scheduleCleaningFromCheckout()">Auto-Schedule</button>
                    </div>
                    <p class="small-text">Auto-schedule will set cleaning 30 minutes after check-out time</p>
                </div>

                <div class="form-group">
                    <label>Cleaning Checklist</label>
                    <textarea id="cleaning-checklist" rows="8" style="width: 100%;">LIVING AREAS: ‚úì Vacuum all carpets and rugs ‚úì Mop all hard floors ‚úì Dust all surfaces
KITCHEN: ‚úì Clean countertops ‚úì Clean appliances ‚úì Restock supplies
BATHROOMS: ‚úì Clean and disinfect ‚úì Replace towels ‚úì Restock supplies
BEDROOMS: ‚úì Fresh linens ‚úì Vacuum floors ‚úì Dust surfaces
FINAL: ‚úì Set thermostat to 72¬∞F ‚úì Test WiFi ‚úì Check door code</textarea>
                </div>

                <div class="form-row">
                    <button class="btn btn-success" onclick="saveCleaningInfo()">Save Cleaning Details</button>
                    <button class="btn" onclick="sendCleaningReminder()">Send Reminder to Cleaner</button>
                </div>
            </div>
        </div>

        <!-- Admin Property -->
        <div id="admin-property-page" style="display: none;">
            <h2>üè† Property Management</h2>
            
            <div class="admin-card card">
                <h3>Property Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Property Name</label>
                        <input type="text" id="admin-property-name" value="Cape Coral Home Retreat">
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="admin-property-location" value="123 SW 51st Terrace, Cape Coral, Florida">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updatePropertyInfo()">Update Property Info</button>
            </div>

            <div class="admin-card card">
                <h3>Local Attractions Management</h3>
                <div class="form-group">
                    <label>Attractions (Format: Name | Type | Miles | Drive Time | Rating)</label>
                    <textarea id="admin-attractions" rows="10" style="width: 100%;">Yacht Club Beach | Beach | 2.5 miles | 6 min drive | 4.5
Cape Coral Beach at Four Freedoms Park | Beach | 3.2 miles | 8 min drive | 4.3
The Lobster Lady | Restaurant | 4.8 miles | 12 min drive | 5.0
Rotary Park Environmental Center | Nature | 5.1 miles | 12 min drive | 4.4
Sun Splash Family Waterpark | Entertainment | 6.3 miles | 15 min drive | 4.1
Cape Coral Farmers Market | Shopping | 4.2 miles | 10 min drive | 4.2
Edison and Ford Winter Estates | Historical | 8.7 miles | 20 min drive | 4.6
Seed to Table | Restaurant | 15.2 miles to Naples | 25 min drive | 5.0</textarea>
                </div>
                <button class="btn btn-success" onclick="updateAttractions()">Update Attractions</button>
                <p class="small-text">Format each line as: Name | Type | Miles | Drive Time | Rating</p>
            </div>
        </div>

        <!-- Admin Integrations -->
        <div id="admin-integrations-page" style="display: none;">
            <h2>üîó Platform Integrations</h2>
            
            <div class="integration-section">
                <h3>üè† Airbnb Integration</h3>
                <div class="alert-info">
                    <strong>Important:</strong> Airbnb doesn't provide direct API access for hosts. You'll need to use a Property Management System (PMS) as a bridge.
                </div>
                
                <h4>Recommended PMS Options:</h4>
                <div class="stats-grid">
                    <div class="card">
                        <h4>Hostfully</h4>
                        <p class="small-text">Syncs with Airbnb, VRBO, and provides API access for custom integrations.</p>
                        <button class="btn" onclick="window.open('https://hostfully.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>Guesty</h4>
                        <p class="small-text">Multi-platform management with webhook support for real-time updates.</p>
                        <button class="btn" onclick="window.open('https://guesty.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>OwnerRez</h4>
                        <p class="small-text">Direct booking system with Airbnb sync and API access.</p>
                        <button class="btn" onclick="window.open('https://ownerrez.com', '_blank')">Learn More</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Data -->
        <div id="admin-data-page" style="display: none;">
            <h2>üíæ Data Management</h2>
            
            <div class="admin-card card">
                <h3>üì§ Export Data</h3>
                <p>Download all property data as backup</p>
                <button class="btn" onclick="exportData()">Export Property Data</button>
            </div>

            <div class="admin-card card">
                <h3>üì• Import Data</h3>
                <p>Upload property data from backup</p>
                <div class="form-group">
                    <textarea id="import-data" rows="10" placeholder="Paste JSON data here..."></textarea>
                </div>
                <button class="btn btn-success" onclick="importData()">Import Data</button>
            </div>
        </div>
    </div>

    <script>
        // Property data stored in localStorage for persistence
        let propertyData = {
            guestName: 'John & Sarah Smith',
            guestCount: 4,
            checkIn: '2025-07-18',
            checkOut: '2025-07-21',
            confirmation: 'ABC123',
            doorCode: '1234',
            wifiName: 'CapeCoral_Retreat_Guest',
            wifiPassword: 'Tropical2025!',
            propertyName: 'Cape Coral Home Retreat',
            propertyLocation: '123 SW 51st Terrace, Cape Coral, Florida',
            primaryColor: '#00B4D8',
            accentColor: '#F77F00'
        };

        // Load saved data on page load
        function loadData() {
            try {
                const saved = localStorage.getItem('capeCoralData');
                if (saved) {
                    propertyData = { ...propertyData, ...JSON.parse(saved) };
                }
            } catch (error) {
                console.log('No saved data found, using defaults
