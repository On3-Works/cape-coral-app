<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cape Coral Home Retreat - Guest Portal</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            min-height: 100vh;
        }
        .nav {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,180,216,0.1);
            border-left: 6px solid #00B4D8;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(245,158,11,0.1);
            border-left: 6px solid #F77F00;
        }
        .btn {
            background: linear-gradient(135deg, #00B4D8, #0096C7);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            border-bottom: 4px solid #F77F00;
            font-weight: 600;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        .btn:hover {
            background: linear-gradient(135deg, #0096C7, #0077B6);
            transform: translateY(-1px);
        }
        .btn:active {
            transform: translateY(0);
        }
        .btn.active {
            background: linear-gradient(135deg, #0077B6, #023E8A);
            border-bottom-color: #D97706;
        }
        .btn-danger {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            border-bottom-color: #B91C1C;
        }
        .btn-danger:hover {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
        }
        .btn-success {
            background: linear-gradient(135deg, #10B981, #059669);
            border-bottom-color: #047857;
        }
        .btn-success:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }
        .card {
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            padding: 24px;
            margin: 20px 0;
            border-radius: 12px;
            border-left: 5px solid #00B4D8;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .admin-card {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-left-color: #F59E0B;
        }
        .emergency-card {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left-color: #EF4444;
        }
        .attraction-card {
            background: linear-gradient(135deg, #FFFBEB, #FEF3C7);
            border-left-color: #F77F00;
            transition: all 0.2s ease;
        }
        .attraction-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(247,127,0,0.2);
        }
        h1, h2, h3 {
            color: #1F2937;
        }
        .phone-link {
            color: #00B4D8;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s ease;
        }
        .phone-link:hover {
            color: #0096C7;
        }
        .form-group {
            margin: 20px 0;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #374151;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }
        .form-group input:focus, .form-group textarea:focus {
            border-color: #00B4D8;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0,180,216,0.1);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .admin-login {
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }
        .alert {
            padding: 16px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }
        .alert-success {
            background: linear-gradient(135deg, #D1FAE5, #A7F3D0);
            border-left: 4px solid #10B981;
            color: #065F46;
        }
        .alert-error {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left: 4px solid #EF4444;
            color: #991B1B;
        }
        .alert-info {
            background: linear-gradient(135deg, #DBEAFE, #BFDBFE);
            border-left: 4px solid #3B82F6;
            color: #1E40AF;
        }
        .small-text {
            font-size: 14px;
            color: #6B7280;
            margin-top: 5px;
        }
        .welcome-banner {
            background: linear-gradient(135deg, #00B4D8, #0077B6);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-bottom: 6px solid #F77F00;
            text-align: center;
        }
        .welcome-banner h2 {
            color: white;
            margin-bottom: 10px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        .nav-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 15px 0;
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .nav-grid {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="nav">
        <h1>üèñÔ∏è Cape Coral Home Retreat</h1>
        <p>123 SW 51st Terrace, Cape Coral, Florida</p>
        <div id="guest-nav" class="nav-grid">
            <button class="btn active" onclick="showPage('home', this)">üè† Welcome</button>
            <button class="btn" onclick="showPage('access', this)">üîë Access Info</button>
            <button class="btn" onclick="showPage('attractions', this)">üìç Attractions</button>
            <button class="btn" onclick="showPage('music', this)">üéµ Music</button>
            <button class="btn" onclick="showPage('rules', this)">üìã Rules</button>
            <button class="btn" onclick="showPage('emergency', this)">üìû Emergency</button>
            <button class="btn" id="admin-btn" onclick="showPage('admin-login', this)" style="display: none;">‚öôÔ∏è Admin</button>
        </div>
        <div id="admin-nav" class="nav-grid" style="display: none;">
            <button class="btn" onclick="showPage('admin-dashboard', this)">üìä Dashboard</button>
            <button class="btn" onclick="showPage('admin-settings', this)">‚öôÔ∏è Settings</button>
            <button class="btn btn-danger" onclick="logout()">üö™ Logout</button>
        </div>
    </div>

    <div class="content">
        <!-- Home Page -->
        <div id="home-page">
            <div class="welcome-banner">
                <h2>Welcome to Cape Coral Home Retreat!</h2>
                <p>Your tropical paradise awaits in beautiful Cape Coral, Florida!</p>
            </div>
            
            <div class="stats-grid">
                <div class="card">
                    <h3>üìÖ Current Booking</h3>
                    <p><strong>Guest:</strong> <span id="display-guest-name">John & Sarah Smith</span></p>
                    <p><strong>Check-in:</strong> <span id="display-checkin">July 18, 2025</span></p>
                    <p><strong>Check-out:</strong> <span id="display-checkout">July 21, 2025</span></p>
                    <p><strong>Guests:</strong> <span id="display-guest-count">4</span></p>
                    <p><strong>Confirmation:</strong> <span id="display-confirmation">ABC123</span></p>
                </div>
                
                <div class="card" style="border-left-color: #F77F00;">
                    <h3>üîë Access Information</h3>
                    <p><strong>Door Code:</strong> <span id="display-door-code">1234</span></p>
                    <p><strong>WiFi:</strong> <span id="display-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p><strong>Password:</strong> <span id="display-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Please keep this information secure</p>
                </div>
            </div>
        </div>

        <!-- Access Page -->
        <div id="access-page" style="display: none;">
            <h2>üîë Access Information</h2>
            <div class="stats-grid">
                <div class="card" style="background: linear-gradient(135deg, #DBEAFE, #BFDBFE); border-left-color: #2563EB;">
                    <h3>üö™ Door Access</h3>
                    <p style="font-size: 48px; font-weight: bold; color: #2563EB; margin: 15px 0; text-align: center;"><span id="access-door-code">1234</span></p>
                    <p style="text-align: center;">Enter this code on the front door keypad</p>
                </div>
                
                <div class="card" style="background: linear-gradient(135deg, #DCFCE7, #BBF7D0); border-left-color: #16A34A;">
                    <h3>üì∂ WiFi Network</h3>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Connect your devices to stay online</p>
                </div>
            </div>
        </div>

        <!-- Attractions Page -->
        <div id="attractions-page" style="display: none;">
            <h2>üìç Local Attractions</h2>
            <div class="stats-grid">
                <div class="attraction-card">
                    <h3>Yacht Club Beach</h3>
                    <p>Beach ‚Ä¢ 2.5 miles (6 min drive) ‚Ä¢ ‚≠ê 4.5</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Beach at Four Freedoms Park</h3>
                    <p>Beach ‚Ä¢ 3.2 miles (8 min drive) ‚Ä¢ ‚≠ê 4.3</p>
                </div>
                <div class="attraction-card">
                    <h3>The Lobster Lady</h3>
                    <p>Restaurant ‚Ä¢ 4.8 miles (12 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
                <div class="attraction-card">
                    <h3>Rotary Park Environmental Center</h3>
                    <p>Nature ‚Ä¢ 5.1 miles (12 min drive) ‚Ä¢ ‚≠ê 4.4</p>
                </div>
                <div class="attraction-card">
                    <h3>Sun Splash Family Waterpark</h3>
                    <p>Entertainment ‚Ä¢ 6.3 miles (15 min drive) ‚Ä¢ ‚≠ê 4.1</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Farmers Market</h3>
                    <p>Shopping ‚Ä¢ 4.2 miles (10 min drive) ‚Ä¢ ‚≠ê 4.2</p>
                </div>
                <div class="attraction-card">
                    <h3>Edison and Ford Winter Estates</h3>
                    <p>Historical ‚Ä¢ 8.7 miles (20 min drive) ‚Ä¢ ‚≠ê 4.6</p>
                </div>
                <div class="attraction-card">
                    <h3>Seed to Table</h3>
                    <p>Restaurant ‚Ä¢ 15.2 miles to Naples (25 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
            </div>
        </div>

        <!-- Music/Spotify Page -->
        <div id="music-page" style="display: none;">
            <h2>üéµ Home Audio System</h2>
            
            <div class="card" style="background: linear-gradient(135deg, #1DB954, #1ed760); color: white; border-left-color: #1DB954;">
                <h3 style="color: white;">üéß Connect to House Speakers</h3>
                <p style="color: white; opacity: 0.9;">Control the house music from your device!</p>
                
                <div style="margin: 20px 0;">
                    <button class="btn" onclick="connectSpotify()" style="background: #1DB954; border-bottom-color: #17a74a;">
                        üéµ Open Spotify
                    </button>
                    <button class="btn" onclick="showMusicInstructions()" style="background: #333; border-bottom-color: #1DB954;">
                        üì± How to Connect
                    </button>
                </div>
            </div>

            <div class="card">
                <h3>üé∂ Quick Setup Instructions</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>Method 1: Spotify Connect (Recommended)</h4>
                    <ol>
                        <li>Open <strong>Spotify</strong> on your phone or tablet</li>
                        <li>Play any song</li>
                        <li>Tap the <strong>"Devices"</strong> icon at the bottom</li>
                        <li>Select <strong>"Cape Coral Retreat Audio"</strong> from the list</li>
                        <li>Music will now play through the house speakers!</li>
                    </ol>
                </div>
                
                <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>Method 2: Direct Connection</h4>
                    <ol>
                        <li>Connect to the house WiFi: <strong><span id="music-wifi-name">CapeCoral_Retreat_Guest</span></strong></li>
                        <li>Open your music app (Spotify, Apple Music, etc.)</li>
                        <li>Look for <strong>"Cape Coral Home"</strong> in available speakers</li>
                        <li>Select it and enjoy your music throughout the house!</li>
                    </ol>
                </div>
            </div>

            <div class="card" style="border-left-color: #FF6B35;">
                <h3>üîä Audio Zones Available</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üè† Living Room</h4>
                        <p>Main entertainment area</p>
                        <button class="btn" onclick="selectZone('living')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üèä‚Äç‚ôÄÔ∏è Pool Area</h4>
                        <p>Outdoor speakers</p>
                        <button class="btn" onclick="selectZone('pool')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üç≥ Kitchen</h4>
                        <p>Cooking & dining</p>
                        <button class="btn" onclick="selectZone('kitchen')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üè° Whole House</h4>
                        <p>All speakers</p>
                        <button class="btn" onclick="selectZone('all')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                </div>
                <div id="zone-selected" style="display: none; background: #d1fae5; padding: 10px; border-radius: 6px; margin: 10px 0; color: #065f46;">
                    <strong>‚úÖ Zone Selected:</strong> <span id="selected-zone"></span>
                </div>
            </div>

            <div class="card">
                <h3>üéµ Suggested Playlists for Your Stay</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div style="background: linear-gradient(135deg, #ff9a9e, #fecfef); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('tropical')">
                        <h4>üå¥ Tropical Vibes</h4>
                        <p style="font-size: 14px;">Perfect for poolside relaxation</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #a8edea, #fed6e3); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('chill')">
                        <h4>üòå Chill Lounge</h4>
                        <p style="font-size: 14px;">Relaxing background music</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffecd2, #fcb69f); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('party')">
                        <h4>üéâ Party Mix</h4>
                        <p style="font-size: 14px;">Upbeat songs for entertaining</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('dinner')">
                        <h4 style="color: white;">üçΩÔ∏è Dinner Jazz</h4>
                        <p style="font-size: 14px; color: white;">Sophisticated dining ambiance</p>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #FFF3CD, #FFF8DC); border-left-color: #856404;">
                <h3>‚ö†Ô∏è Audio System Guidelines</h3>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li><strong>Volume:</strong> Please keep volume at reasonable levels, especially after 10 PM</li>
                    <li><strong>Pool Area:</strong> Outdoor speakers automatically turn off at 10 PM</li>
                    <li><strong>Troubleshooting:</strong> If music stops, check WiFi connection and restart the app</li>
                    <li><strong>Multiple Users:</strong> Only one device can control the system at a time</li>
                    <li><strong>Support:</strong> Contact property manager if you need assistance</li>
                </ul>
            </div>
        </div>

        <!-- Rules Page -->
        <div id="rules-page" style="display: none;">
            <h2>üìã Property Rules & Guidelines</h2>
            <div class="card">
                <p>‚úÖ Check-in: 4:00 PM - 9:00 PM (Please contact us if arriving after 9 PM)</p>
            </div>
            <div class="card">
                <p>‚úÖ Check-out: 11:00 AM (Late check-out available upon request)</p>
            </div>
            <div class="card">
                <p>‚úÖ No smoking anywhere on the property (including lanai and pool area)</p>
            </div>
            <div class="card">
                <p>‚úÖ Maximum occupancy: 6 guests</p>
            </div>
            <div class="card">
                <p>‚úÖ Quiet hours: 10:00 PM - 8:00 AM (Respect our neighbors)</p>
            </div>
            <div class="card">
                <p>‚úÖ Pool hours: 8:00 AM - 10:00 PM</p>
            </div>
            <div class="card">
                <p>‚úÖ No glass containers in pool area</p>
            </div>
            <div class="card">
                <p>‚úÖ Please rinse off before entering pool after beach visits</p>
            </div>
            <div class="card">
                <p>‚úÖ All towels and linens provided - no need to bring your own</p>
            </div>
            <div class="card">
                <p>‚úÖ Parking: Maximum 2 vehicles in driveway</p>
            </div>
            <div class="card">
                <p>‚úÖ No pets allowed (service animals welcome with prior notice)</p>
            </div>
            <div class="card">
                <p>‚úÖ Please dispose of trash in provided bins - pickup is Monday morning</p>
                <p class="small-text">Trash bins are located on the right side of house next to AC units. Please take to curb Sunday evening.</p>
            </div>
        </div>

        <!-- Emergency Page -->
        <div id="emergency-page" style="display: none;">
            <h2>üìû Emergency Contacts</h2>
            <div class="stats-grid">
                <div class="emergency-card">
                    <h3>Property Manager</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395741234" class="phone-link">(239) 574-1234</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Emergency Services</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:911" class="phone-link">911</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Cape Coral Police</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395743223" class="phone-link">(239) 574-3223</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Lee Memorial Hospital</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12393432000" class="phone-link">(239) 343-2000</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="admin-login-page" style="display: none;">
            <div class="admin-login">
                <div class="admin-card card">
                    <h2>üîê Admin Access</h2>
                    <p>Enter admin password to manage property settings</p>
                    <div class="form-group">
                        <input type="password" id="admin-password" placeholder="Enter admin password" onkeypress="if(event.key==='Enter') login()">
                    </div>
                    <button class="btn btn-success" onclick="login()">Login</button>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard-page" style="display: none;">
            <h2>üìä Admin Dashboard</h2>
            
            <div class="admin-card card">
                <h3>Current Booking Management</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Guest Name</label>
                        <input type="text" id="admin-guest-name" value="John & Sarah Smith">
                    </div>
                    <div class="form-group">
                        <label>Guest Count</label>
                        <input type="number" id="admin-guest-count" value="4" min="1" max="6">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Check-in Date</label>
                        <input type="date" id="admin-checkin" value="2025-07-18">
                    </div>
                    <div class="form-group">
                        <label>Check-out Date</label>
                        <input type="date" id="admin-checkout" value="2025-07-21">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Confirmation Code</label>
                        <input type="text" id="admin-confirmation" value="ABC123">
                    </div>
                    <div class="form-group">
                        <label>Door Code</label>
                        <input type="text" id="admin-door-code" value="1234">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateGuestInfo()">Update Guest Information</button>
            </div>
        </div>

        <!-- Admin Settings -->
        <div id="admin-settings-page" style="display: none;">
            <h2>‚öôÔ∏è Admin Settings</h2>
            
            <div class="admin-card card">
                <h3>WiFi Settings</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Network Name</label>
                        <input type="text" id="admin-wifi-name" value="CapeCoral_Retreat_Guest">
                    </div>
                    <div class="form-group">
                        <label>WiFi Password</label>
                        <input type="text" id="admin-wifi-password" value="Tropical2025!">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateWifiSettings()">Update WiFi Settings</button>
            </div>

            <div class="admin-card card">
                <h3>üßπ Cleaning Company Management</h3>
                
                <div class="form-group">
                    <label>Cleaning Company Contact</label>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="cleaning-company" placeholder="Company Name" value="Cape Coral Cleaning Services">
                        </div>
                        <div class="form-group">
                            <input type="tel" id="cleaning-phone" placeholder="Phone Number" value="(239) 555-0199">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Schedule Cleaning After Check-out</label>
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <input type="date" id="cleaning-date" style="flex: 1; min-width: 150px;">
                        <input type="time" id="cleaning-time" value="11:30" style="flex: 1; min-width: 120px;">
                        <button class="btn" onclick="scheduleCleaningFromCheckout()">Auto-Schedule</button>
                    </div>
                    <p class="small-text">Auto-schedule will set cleaning 30 minutes after check-out time</p>
                </div>

                <div class="form-group">
                    <label>Cleaning Checklist</label>
                    <textarea id="cleaning-checklist" rows="8" style="width: 100%;">LIVING AREAS: ‚úì Vacuum all carpets and rugs ‚úì Mop all hard floors ‚úì Dust all surfaces
KITCHEN: ‚úì Clean countertops ‚úì Clean appliances ‚úì Restock supplies
BATHROOMS: ‚úì Clean and disinfect ‚úì Replace towels ‚úì Restock supplies
BEDROOMS: ‚úì Fresh linens ‚úì Vacuum floors ‚úì Dust surfaces
FINAL: ‚úì Set thermostat to 72¬∞F ‚úì Test WiFi ‚úì Check door code</textarea>
                </div>

                <div class="form-row">
                    <button class="btn btn-success" onclick="saveCleaningInfo()">Save Cleaning Details</button>
                    <button class="btn" onclick="sendCleaningReminder()">üì± Send SMS Reminder</button>
                </div>
            </div>

            <div class="admin-card card">
                <h3>üóëÔ∏è Trash Pickup Management</h3>
                
                <div class="alert-info" style="margin-bottom: 20px;">
                    <strong>Pickup Schedule:</strong> Monday morning pickup - trash goes out Sunday night
                </div>
                
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>üìç Trash Bin Location</h4>
                    <p><strong>Location:</strong> Right side of house next to AC units</p>
                    <p><strong>Instructions for Guests:</strong></p>
                    <ul>
                        <li>Take bins to the curb Sunday evening</li>
                        <li>Return empty bins to AC unit area after pickup</li>
                        <li>Both regular trash and recycling bins available</li>
                    </ul>
                </div>

                <div class="form-group">
                    <label>Current Week Reminder Status</label>
                    <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                        <button class="btn" onclick="sendTrashReminder()">üì± Send Trash Reminder to Guest</button>
                        <button class="btn" onclick="markTrashCompleted()">‚úÖ Mark as Completed</button>
                        <span id="trash-status" style="padding: 8px 15px; border-radius: 5px; background: #fef3c7; color: #92400e;">Pending</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Custom Trash Instructions</label>
                    <textarea id="trash-instructions" rows="4" style="width: 100%;">Please take trash bins to the curb Sunday evening for Monday morning pickup. Bins are located on the right side of the house next to the AC units. Return empty bins to the same location after pickup. Thank you!</textarea>
                </div>

                <button class="btn btn-success" onclick="saveTrashInfo()">Save Trash Instructions</button>
            </div>

            <div class="admin-card card">
                <h3>Property Information</h3>
                <div class="form-group">
                    <label>Property Name</label>
                    <input type="text" id="admin-property-name" value="Cape Coral Home Retreat">
                </div>
                <div class="form-group">
                    <label>Property Address</label>
                    <input type="text" id="admin-property-address" value="123 SW 51st Terrace, Cape Coral, Florida">
                </div>
                <button class="btn btn-success" onclick="updatePropertyInfo()">Update Property Info</button>
            </div>
        </div>
    </div>

    <script>
        // Guest data
        let guestData = {
            guestName: 'John & Sarah Smith',
            checkIn: 'July 18, 2025',
            checkOut: 'July 21, 2025',
            guestCount: 4,
            confirmation: 'ABC123',
            doorCode: '1234',
            wifiName: 'CapeCoral_Retreat_Guest',
            wifiPassword: 'Tropical2025!'
        };

        function showPage(pageId, buttonElement) {
            // Hide all pages
            const pages = ['home', 'access', 'attractions', 'music', 'rules', 'emergency', 'admin-login', 'admin-dashboard', 'admin-settings'];
            pages.forEach(page => {
                const element = document.getElementById(page + '-page');
                if (element) element.style.display = 'none';
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.style.display = 'block';
            }
            
            // Update button states
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
        }

        function login() {
            const password = document.getElementById('admin-password').value;
            if (password === 'admin1128') {
                document.getElementById('guest-nav').style.display = 'none';
                document.getElementById('admin-nav').style.display = 'flex';
                showPage('admin-dashboard');
                loadAdminData();
                document.getElementById('admin-password').value = '';
                showAlert('Admin access granted', 'success');
            } else {
                showAlert('Invalid password', 'error');
            }
        }

        function logout() {
            document.getElementById('guest-nav').style.display = 'flex';
            document.getElementById('admin-nav').style.display = 'none';
            showPage('home');
            showAlert('Logged out successfully', 'info');
        }

        function loadAdminData() {
            document.getElementById('admin-guest-name').value = guestData.guestName;
            document.getElementById('admin-guest-count').value = guestData.guestCount;
            document.getElementById('admin-checkin').value = '2025-07-18';
            document.getElementById('admin-checkout').value = '2025-07-21';
            document.getElementById('admin-confirmation').value = guestData.confirmation;
            document.getElementById('admin-door-code').value = guestData.doorCode;
            document.getElementById('admin-wifi-name').value = guestData.wifiName;
            document.getElementById('admin-wifi-password').value = guestData.wifiPassword;
            
            // Load cleaning data
            loadCleaningData();
        }

        function updateGuestInfo() {
            guestData.guestName = document.getElementById('admin-guest-name').value;
            guestData.guestCount = document.getElementById('admin-guest-count').value;
            guestData.confirmation = document.getElementById('admin-confirmation').value;
            guestData.doorCode = document.getElementById('admin-door-code').value;
            
            updateDisplays();
            showAlert('Guest information updated successfully!', 'success');
        }

        function updateWifiSettings() {
            guestData.wifiName = document.getElementById('admin-wifi-name').value;
            guestData.wifiPassword = document.getElementById('admin-wifi-password').value;
            
            updateDisplays();
            showAlert('WiFi settings updated successfully!', 'success');
        }

        function updatePropertyInfo() {
            const propertyName = document.getElementById('admin-property-name').value;
            const propertyAddress = document.getElementById('admin-property-address').value;
            
            document.querySelector('.nav h1').textContent = 'üèñÔ∏è ' + propertyName;
            document.querySelector('.nav p').textContent = propertyAddress;
            
            showAlert('Property information updated successfully!', 'success');
        }

        function updateDisplays() {
            document.getElementById('display-guest-name').textContent = guestData.guestName;
            document.getElementById('display-guest-count').textContent = guestData.guestCount;
            document.getElementById('display-confirmation').textContent = guestData.confirmation;
            document.getElementById('display-door-code').textContent = guestData.doorCode;
            document.getElementById('display-wifi-name').textContent = guestData.wifiName;
            document.getElementById('display-wifi-password').textContent = guestData.wifiPassword;
            document.getElementById('access-door-code').textContent = guestData.doorCode;
            document.getElementById('access-wifi-name').textContent = guestData.wifiName;
            document.getElementById('access-wifi-password').textContent = guestData.wifiPassword;
            
            // Update music page WiFi name if it exists
            const musicWifiEl = document.getElementById('music-wifi-name');
            if (musicWifiEl) musicWifiEl.textContent = guestData.wifiName;
        }

        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            alertDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 1000;
                max-width: 300px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(alertDiv);
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 4000);
        }

        // Music/Audio System Functions
        function connectSpotify() {
            // Check if we're on mobile/tablet
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Try to open Spotify app directly
                const spotifyAppURL = 'spotify://';
                const spotifyWebURL = 'https://open.spotify.com';
                
                // Create a hidden iframe to attempt app launch
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = spotifyAppURL;
                document.body.appendChild(iframe);
                
                // Fallback to web version after a short delay
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    window.open(spotifyWebURL, '_blank');
                }, 1000);
                
                showAlert('Opening Spotify... Look for "Cape Coral Retreat Audio" in your devices list!', 'success');
            } else {
                // Desktop - open Spotify Web Player
                window.open('https://open.spotify.com', '_blank');
                showAlert('Spotify opened! Look for "Cape Coral Retreat Audio" in the devices list.', 'info');
            }
        }

        function showMusicInstructions() {
            showAlert('üì± Connect to house WiFi, then look for "Cape Coral Retreat Audio" in your music app!', 'info');
        }

        function selectZone(zone) {
            const zones = {
                'living': 'Living Room',
                'pool': 'Pool Area',
                'kitchen': 'Kitchen',
                'all': 'Whole House'
            };
            
            document.getElementById('selected-zone').textContent = zones[zone];
            document.getElementById('zone-selected').style.display = 'block';
            
            showAlert(`Audio zone set to: ${zones[zone]}`, 'success');
            
            // Hide the notification after showing the selected zone
            setTimeout(() => {
                const zoneEl = document.getElementById('zone-selected');
                if (zoneEl) zoneEl.style.display = 'none';
            }, 5000);
        }

        function openPlaylist(type) {
            const playlists = {
                'tropical': 'https://open.spotify.com/playlist/37i9dQZF1DX0XUsuxWHRQd',
                'chill': 'https://open.spotify.com/playlist/37i9dQZF1DWS1zOdTE8uo8',
                'party': 'https://open.spotify.com/playlist/37i9dQZF1DX0XUfTFmNBRM',
                'dinner': 'https://open.spotify.com/playlist/37i9dQZF1DX0SM0LYsmbMT'
            };
            
            const playlistNames = {
                'tropical': 'Tropical Vibes',
                'chill': 'Chill Lounge',
                'party': 'Party Mix',
                'dinner': 'Dinner Jazz'
            };
            
            // Try to open Spotify app first on mobile
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Convert web URL to app URL
                const appURL = playlists[type].replace('https://open.spotify.com', 'spotify:');
                
                // Try app first, fallback to web
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = appURL;
                document.body.appendChild(iframe);
                
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    window.open(playlists[type], '_blank');
                }, 1000);
            } else {
                window.open(playlists[type], '_blank');
            }
            
            showAlert(`Opening ${playlistNames[type]} playlist! Remember to select "Cape Coral Retreat Audio" as your device.`, 'success');
        }

        // Cleaning Management Functions
        function scheduleCleaningFromCheckout() {
            const checkOutDate = document.getElementById('admin-checkout').value;
            if (checkOutDate) {
                document.getElementById('cleaning-date').value = checkOutDate;
                document.getElementById('cleaning-time').value = '11:30';
                showAlert('Cleaning automatically scheduled for 30 minutes after checkout!', 'success');
            } else {
                showAlert('Please set a check-out date first in the Dashboard', 'error');
            }
        }

        function saveCleaningInfo() {
            const company = document.getElementById('cleaning-company').value;
            const phone = document.getElementById('cleaning-phone').value;
            const date = document.getElementById('cleaning-date').value;
            const time = document.getElementById('cleaning-time').value;
            const checklist = document.getElementById('cleaning-checklist').value;
            
            // Save to localStorage
            const cleaningData = {
                company,
                phone,
                date,
                time,
                checklist,
                lastUpdated: new Date().toISOString()
            };
            
            try {
                localStorage.setItem('capeCoralCleaning', JSON.stringify(cleaningData));
                showAlert('Cleaning information saved successfully!', 'success');
            } catch (error) {
                showAlert('Could not save cleaning data', 'error');
            }
        }

        function sendCleaningReminder() {
            const company = document.getElementById('cleaning-company').value;
            const phone = document.getElementById('cleaning-phone').value;
            const date = document.getElementById('cleaning-date').value;
            const time = document.getElementById('cleaning-time').value;
            
            if (!company || !phone || !date || !time) {
                showAlert('Please fill in cleaning company, phone number, date, and time first', 'error');
                return;
            }
            
            // Format the date nicely
            const formattedDate = new Date(date).toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // Create detailed message
            const message = `Hi ${company}! 

Cleaning reminder for Cape Coral Home Retreat:
üìÖ Date: ${formattedDate}
‚è∞ Time: ${time}
üè† Address: 123 SW 51st Terrace, Cape Coral, FL

Please confirm you can make this appointment. Thanks!`;
            
            // Clean phone number (remove non-digits)
            const cleanPhone = phone.replace(/\D/g, '');
            
            // Create SMS link
            const smsLink = `sms:+1${cleanPhone}?body=${encodeURIComponent(message)}`;
            
            // Check if we're on mobile/tablet
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // On mobile - open SMS app directly
                window.location.href = smsLink;
                showAlert('Opening SMS app to send reminder...', 'success');
            } else {
                // On desktop - show instructions window
                const instructionWindow = window.open('', 'SMS Instructions', 'width=500,height=400');
                instructionWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Send SMS Reminder</title>
                        <style>
                            body { font-family: Arial, sans-serif; padding: 20px; background: #f8fafc; }
                            .container { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
                            .message-box { background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0; white-space: pre-line; border-left: 4px solid #00B4D8; }
                            .phone { font-size: 18px; font-weight: bold; color: #00B4D8; }
                            .copy-btn { background: #00B4D8; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
                            .copy-btn:hover { background: #0096C7; }
                        </style>
                    </head>
                    <body>
                        <div class="container">
                            <h2>üì± Send SMS Reminder</h2>
                            <p><strong>Send to:</strong> <span class="phone">${phone}</span></p>
                            
                            <h3>Message:</h3>
                            <div class="message-box">${message}</div>
                            
                            <button class="copy-btn" onclick="navigator.clipboard.writeText('${message}'); alert('Message copied!')">üìã Copy Message</button>
                            <button class="copy-btn" onclick="navigator.clipboard.writeText('${cleanPhone}'); alert('Phone number copied!')">üìû Copy Phone</button>
                            <button class="copy-btn" onclick="window.close()">‚ùå Close</button>
                            
                            <h3>Instructions:</h3>
                            <ol>
                                <li>Copy the message and phone number using the buttons above</li>
                                <li>Open your phone's messaging app</li>
                                <li>Create a new message to the copied phone number</li>
                                <li>Paste the copied message and send!</li>
                            </ol>
                        </div>
                    </body>
                    </html>
                `);
                showAlert('SMS reminder window opened with message details', 'info');
            }
        }

        function loadCleaningData() {
            try {
                const saved = localStorage.getItem('capeCoralCleaning');
                if (saved) {
                    const cleaningData = JSON.parse(saved);
                    document.getElementById('cleaning-company').value = cleaningData.company || 'Cape Coral Cleaning Services';
                    document.getElementById('cleaning-phone').value = cleaningData.phone || '(239) 555-0199';
                    document.getElementById('cleaning-date').value = cleaningData.date || '';
                    document.getElementById('cleaning-time').value = cleaningData.time || '11:30';
                    document.getElementById('cleaning-checklist').value = cleaningData.checklist || document.getElementById('cleaning-checklist').value;
                }
                
                // Load trash data
                const savedTrash = localStorage.getItem('capeCoralTrash');
                if (savedTrash) {
                    const trashData = JSON.parse(savedTrash);
                    document.getElementById('trash-instructions').value = trashData.instructions || document.getElementById('trash-instructions').value;
                    updateTrashStatus(trashData.status || 'pending');
                }
            } catch (error) {
                console.log('No saved cleaning/trash data found');
            }
        }

        // Trash Management Functions
        function sendTrashReminder() {
            const guestName = guestData.guestName;
            const instructions = document.getElementById('trash-instructions').value;
            
            // Create reminder message
            const message = `Hi ${guestName}!

Friendly reminder about trash pickup at Cape Coral Home Retreat:

üóëÔ∏è TRASH PICKUP: Monday morning
üìÖ ACTION NEEDED: Please take bins to curb Sunday evening

üìç Bin Location: Right side of house next to AC units

${instructions}

Thank you for helping keep our property clean!`;
            
            // For now, show the message (in real app, this could send SMS/email)
            const reminderWindow = window.open('', 'TrashReminder', 'width=500,height=400');
            reminderWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Trash Pickup Reminder</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; background: #f8fafc; }
                        .container { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
                        .message-box { background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0; white-space: pre-line; border-left: 4px solid #F77F00; }
                        .copy-btn { background: #F77F00; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
                        .copy-btn:hover { background: #D97706; }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <h2>üóëÔ∏è Trash Pickup Reminder</h2>
                        <p><strong>For:</strong> ${guestName}</p>
                        
                        <h3>Message:</h3>
                        <div class="message-box">${message}</div>
                        
                        <button class="copy-btn" onclick="navigator.clipboard.writeText('${message}'); alert('Message copied!')">üìã Copy Message</button>
                        <button class="copy-btn" onclick="window.close()">‚ùå Close</button>
                        
                        <p><strong>Note:</strong> Copy this message to send via your preferred method (SMS, email, etc.)</p>
                    </div>
                </body>
                </html>
            `);
            
            showAlert('Trash reminder prepared for guest', 'success');
        }

        function markTrashCompleted() {
            updateTrashStatus('completed');
            saveTrashInfo();
            showAlert('Trash pickup marked as completed', 'success');
        }

        function updateTrashStatus(status) {
            const statusEl = document.getElementById('trash-status');
            if (statusEl) {
                if (status === 'completed') {
                    statusEl.textContent = 'Completed';
                    statusEl.style.background = '#d1fae5';
                    statusEl.style.color = '#065f46';
                } else {
                    statusEl.textContent = 'Pending';
                    statusEl.style.background = '#fef3c7';
                    statusEl.style.color = '#92400e';
                }
            }
        }

        function saveTrashInfo() {
            const instructions = document.getElementById('trash-instructions').value;
            const statusEl = document.getElementById('trash-status');
            const status = statusEl ? statusEl.textContent.toLowerCase() : 'pending';
            
            const trashData = {
                instructions,
                status,
                lastUpdated: new Date().toISOString()
            };
            
            try {
                localStorage.setItem('capeCoralTrash', JSON.stringify(trashData));
                showAlert('Trash information saved successfully!', 'success');
            } catch (error) {
                showAlert('Could not save trash data', 'error');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Improved admin toggle with Ctrl+Shift+A
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                    const adminBtn = document.getElementById('admin-btn');
                    if (adminBtn.style.display === 'none' || adminBtn.style.display === '') {
                        adminBtn.style.display = 'inline-block';
                        showAlert('Admin access enabled', 'success');
                    } else {
                        adminBtn.style.display = 'none';
                        // If currently in admin mode, logout
                        if (document.getElementById('admin-nav').style.display === 'flex') {
                            logout();
                        }
                        showAlert('Admin access hidden', 'info');
                    }
                    e.preventDefault();
                }
            });
            
            showPage('home');
            const firstBtn = document.querySelector('.btn');
            if (firstBtn) firstBtn.classList.add('active');
        });

        // Add CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
