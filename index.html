<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cape Coral Home Retreat - Guest Portal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #F0F9FF;
        }
        .nav {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #00B4D8;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #F77F00;
        }
        .btn {
            background: #00B4D8;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            margin: 5px;
            cursor: pointer;
            border-bottom: 3px solid #F77F00;
        }
        .btn:hover {
            background: #0096b8;
        }
        .btn.active {
            background: #0096b8;
        }
        .btn-danger {
            background: #ef4444;
            border-bottom: 3px solid #dc2626;
        }
        .btn-danger:hover {
            background: #dc2626;
        }
        .btn-success {
            background: #10b981;
            border-bottom: 3px solid #059669;
        }
        .btn-success:hover {
            background: #059669;
        }
        .card {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid #00B4D8;
        }
        .admin-card {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
        }
        .emergency-card {
            background: #fff5f5;
            border-left: 4px solid #ef4444;
        }
        .attraction-card {
            background: #fffbeb;
            border-left: 4px solid #F77F00;
        }
        h1, h2, h3 {
            color: #333;
        }
        .phone-link {
            color: #00B4D8;
            text-decoration: none;
            font-weight: bold;
        }
        .phone-link:hover {
            color: #0096b8;
        }
        .form-group {
            margin: 15px 0;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 5px;
            font-size: 16px;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: #00B4D8;
            outline: none;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .admin-login {
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }
        .admin-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }
        .admin-tab {
            padding: 10px 20px;
            background: #f3f4f6;
            border: none;
            cursor: pointer;
            border-top: 3px solid transparent;
        }
        .admin-tab.active {
            background: white;
            border-top-color: #00B4D8;
        }
        .integration-section {
            background: #f0f9ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3b82f6;
        }
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .alert-success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            color: #065f46;
        }
        .alert-info {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            color: #1e40af;
        }
        .small-text {
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="nav">
        <h1>üèñÔ∏è Cape Coral Home Retreat</h1>
        <p>Cape Coral, Florida</p>
        <div id="guest-nav">
            <button class="btn active" onclick="showPage('home', this)">üè† Welcome</button>
            <button class="btn" onclick="showPage('access', this)">üîë Access Info</button>
            <button class="btn" onclick="showPage('attractions', this)">üìç Attractions</button>
            <button class="btn" onclick="showPage('rules', this)">üìã Rules</button>
            <button class="btn" onclick="showPage('emergency', this)">üìû Emergency</button>
            <button class="btn" onclick="showPage('admin-login', this)">‚öôÔ∏è Admin</button>
        </div>
        <div id="admin-nav" style="display: none;">
            <button class="btn" onclick="showPage('admin-bookings', this)">üìÖ Bookings</button>
            <button class="btn" onclick="showPage('admin-property', this)">üè† Property</button>
            <button class="btn" onclick="showPage('admin-integrations', this)">üîó Integrations</button>
            <button class="btn" onclick="showPage('admin-data', this)">üíæ Data</button>
            <button class="btn btn-danger" onclick="logout()">üö™ Logout</button>
        </div>
    </div>

    <div class="content">
        <!-- Guest Pages -->
        <div id="home-page">
            <div style="background: #00B4D8; color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-bottom: 4px solid #F77F00;">
                <h2>Welcome to Cape Coral Home Retreat!</h2>
                <p>Your tropical paradise awaits in beautiful Cape Coral, Florida!</p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="card">
                    <h3>üìÖ Current Booking</h3>
                    <p><strong>Guest:</strong> <span id="display-guest-name">John & Sarah Smith</span></p>
                    <p><strong>Check-in:</strong> <span id="display-checkin">2025-07-18</span></p>
                    <p><strong>Check-out:</strong> <span id="display-checkout">2025-07-21</span></p>
                    <p><strong>Guests:</strong> <span id="display-guest-count">4</span></p>
                    <p><strong>Confirmation:</strong> <span id="display-confirmation">ABC123</span></p>
                </div>
                
                <div class="card" style="border-left-color: #F77F00;">
                    <h3>üîë Access Information</h3>
                    <p><strong>Door Code:</strong> <span id="display-door-code">1234</span></p>
                    <p><strong>WiFi:</strong> <span id="display-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p><strong>Password:</strong> <span id="display-wifi-password">Tropical2025!</span></p>
                    <p style="font-size: 14px; color: #666;">Please keep this information secure</p>
                </div>
            </div>
        </div>

        <!-- Access Page -->
        <div id="access-page" style="display: none;">
            <h2>üîë Access Information</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="card" style="background: #dbeafe; border-left-color: #2563eb;">
                    <h3>Door Access</h3>
                    <p style="font-size: 36px; font-weight: bold; color: #2563eb; margin: 10px 0;"><span id="access-door-code">1234</span></p>
                    <p>Enter this code on the front door keypad</p>
                </div>
                
                <div class="card" style="background: #dcfce7; border-left-color: #16a34a;">
                    <h3>WiFi Network</h3>
                    <p style="font-weight: bold; color: #16a34a;"><span id="access-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p style="font-weight: bold; color: #16a34a;"><span id="access-wifi-password">Tropical2025!</span></p>
                    <p>Connect your devices to stay online</p>
                </div>
            </div>
        </div>

        <!-- Attractions, Rules, Emergency pages remain the same -->
        <div id="attractions-page" style="display: none;">
            <h2>üìç Local Attractions</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="attraction-card">
                    <h3>Yacht Club Beach</h3>
                    <p>Beach ‚Ä¢ 6 min drive ‚Ä¢ ‚≠ê 4.5</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Beach at Four Freedoms Park</h3>
                    <p>Beach ‚Ä¢ 8 min drive ‚Ä¢ ‚≠ê 4.3</p>
                </div>
                <div class="attraction-card">
                    <h3>Rotary Park Environmental Center</h3>
                    <p>Nature ‚Ä¢ 12 min drive ‚Ä¢ ‚≠ê 4.4</p>
                </div>
                <div class="attraction-card">
                    <h3>Sun Splash Family Waterpark</h3>
                    <p>Entertainment ‚Ä¢ 15 min drive ‚Ä¢ ‚≠ê 4.1</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Farmers Market</h3>
                    <p>Shopping ‚Ä¢ 10 min drive ‚Ä¢ ‚≠ê 4.2</p>
                </div>
                <div class="attraction-card">
                    <h3>Edison and Ford Winter Estates</h3>
                    <p>Historical ‚Ä¢ 20 min drive ‚Ä¢ ‚≠ê 4.6</p>
                </div>
            </div>
        </div>

        <div id="rules-page" style="display: none;">
            <h2>üìã Property Rules & Guidelines</h2>
            <div class="card">
                <p>‚úÖ Check-in: 4:00 PM - 9:00 PM (Please contact us if arriving after 9 PM)</p>
            </div>
            <div class="card">
                <p>‚úÖ Check-out: 11:00 AM (Late check-out available upon request)</p>
            </div>
            <div class="card">
                <p>‚úÖ No smoking anywhere on the property (including lanai and pool area)</p>
            </div>
            <div class="card">
                <p>‚úÖ Maximum occupancy: 6 guests</p>
            </div>
            <div class="card">
                <p>‚úÖ Quiet hours: 10:00 PM - 8:00 AM (Respect our neighbors)</p>
            </div>
            <div class="card">
                <p>‚úÖ Pool hours: 8:00 AM - 10:00 PM</p>
            </div>
            <div class="card">
                <p>‚úÖ No glass containers in pool area</p>
            </div>
            <div class="card">
                <p>‚úÖ Please rinse off before entering pool after beach visits</p>
            </div>
            <div class="card">
                <p>‚úÖ Parking: Maximum 2 vehicles in driveway</p>
            </div>
            <div class="card">
                <p>‚úÖ No pets allowed (service animals welcome with prior notice)</p>
            </div>
        </div>

        <div id="emergency-page" style="display: none;">
            <h2>üìû Emergency Contacts</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="emergency-card">
                    <h3>Property Manager</h3>
                    <p style="font-size: 24px; font-weight: bold; margin: 10px 0;">
                        <a href="tel:+12395741234" class="phone-link">(239) 574-1234</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Emergency Services</h3>
                    <p style="font-size: 24px; font-weight: bold; margin: 10px 0;">
                        <a href="tel:911" class="phone-link">911</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Cape Coral Police</h3>
                    <p style="font-size: 24px; font-weight: bold; margin: 10px 0;">
                        <a href="tel:+12395743223" class="phone-link">(239) 574-3223</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Lee Memorial Hospital</h3>
                    <p style="font-size: 24px; font-weight: bold; margin: 10px 0;">
                        <a href="tel:+12393432000" class="phone-link">(239) 343-2000</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="admin-login-page" style="display: none;">
            <div class="admin-login">
                <div class="admin-card card">
                    <h2>üîê Admin Access</h2>
                    <p>Enter admin password to manage property settings</p>
                    <div class="form-group">
                        <input type="password" id="admin-password" placeholder="Enter admin password" onkeypress="if(event.key==='Enter') login()">
                    </div>
                    <button class="btn btn-success" onclick="login()">Login</button>
                    <p class="small-text">Default password: admin1128</p>
                </div>
            </div>
        </div>

        <!-- Admin Bookings -->
        <div id="admin-bookings-page" style="display: none;">
            <h2>üìÖ Booking Management</h2>
            
            <div class="admin-card card">
                <h3>Current Booking Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Guest Name</label>
                        <input type="text" id="admin-guest-name" value="John & Sarah Smith">
                    </div>
                    <div class="form-group">
                        <label>Guest Count</label>
                        <input type="number" id="admin-guest-count" value="4">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Check-in Date</label>
                        <input type="date" id="admin-checkin" value="2025-07-18">
                    </div>
                    <div class="form-group">
                        <label>Check-out Date</label>
                        <input type="date" id="admin-checkout" value="2025-07-21">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Confirmation Code</label>
                        <input type="text" id="admin-confirmation" value="ABC123">
                    </div>
                    <div class="form-group">
                        <label>Door Code</label>
                        <input type="text" id="admin-door-code" value="1234">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateBooking()">Update Booking Info</button>
            </div>

            <div class="admin-card card">
                <h3>WiFi Settings</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Network Name</label>
                        <input type="text" id="admin-wifi-name" value="CapeCoral_Retreat_Guest">
                    </div>
                    <div class="form-group">
                        <label>WiFi Password</label>
                        <input type="text" id="admin-wifi-password" value="Tropical2025!">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateWifi()">Update WiFi Info</button>
            </div>
        </div>

        <!-- Admin Integrations -->
        <div id="admin-integrations-page" style="display: none;">
            <h2>üîó Platform Integrations</h2>
            
            <div class="integration-section">
                <h3>üè† Airbnb Integration</h3>
                <div class="alert alert-info">
                    <strong>Important:</strong> Airbnb doesn't provide direct API access for hosts. You'll need to use a Property Management System (PMS) as a bridge.
                </div>
                
                <h4>Recommended PMS Options:</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div class="card">
                        <h4>Hostfully</h4>
                        <p class="small-text">Syncs with Airbnb, VRBO, and provides API access for custom integrations.</p>
                        <button class="btn" onclick="window.open('https://hostfully.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>Guesty</h4>
                        <p class="small-text">Multi-platform management with webhook support for real-time updates.</p>
                        <button class="btn" onclick="window.open('https://guesty.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>OwnerRez</h4>
                        <p class="small-text">Direct booking system with Airbnb sync and API access.</p>
                        <button class="btn" onclick="window.open('https://ownerrez.com', '_blank')">Learn More</button>
                    </div>
                </div>
            </div>

            <div class="admin-card card">
                <h3>üîó Webhook Configuration</h3>
                <p>Once you have a PMS, configure webhooks to automatically update booking information.</p>
                <div class="form-group">
                    <label>Webhook URL (for your PMS to send updates)</label>
                    <input type="url" placeholder="https://your-pms.com/webhook/endpoint" readonly>
                    <p class="small-text">This would be provided by your chosen PMS provider</p>
                </div>
                
                <div class="form-group">
                    <label>API Key (if required)</label>
                    <input type="text" placeholder="Enter API key from your PMS">
                </div>
                
                <button class="btn" onclick="alert('Contact your PMS provider for integration setup')">Setup Integration</button>
            </div>

            <div class="admin-card card">
                <h3>üì§ Manual Data Import</h3>
                <p>Import booking data from CSV exports from Airbnb/VRBO</p>
                <input type="file" accept=".csv" style="margin: 10px 0;">
                <button class="btn" onclick="alert('CSV import feature - would parse and update booking data')">Import CSV</button>
            </div>
        </div>

        <!-- Admin Property Management -->
        <div id="admin-property-page" style="display: none;">
            <h2>üè† Property Management</h2>
            
            <div class="admin-card card">
                <h3>Property Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Property Name</label>
                        <input type="text" id="admin-property-name" value="Cape Coral Home Retreat">
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="admin-property-location" value="Cape Coral, Florida">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updatePropertyInfo()">Update Property Info</button>
            </div>

            <div class="admin-card card">
                <h3>Property Rules Management</h3>
                <div class="form-group">
                    <label>Property Rules (one per line)</label>
                    <textarea id="admin-property-rules" rows="12" style="width: 100%;">Check-in: 4:00 PM - 9:00 PM (Please contact us if arriving after 9 PM)
Check-out: 11:00 AM (Late check-out available upon request)
No smoking anywhere on the property (including lanai and pool area)
Maximum occupancy: 6 guests
Quiet hours: 10:00 PM - 8:00 AM (Respect our neighbors)
Pool hours: 8:00 AM - 10:00 PM
No glass containers in pool area
Please rinse off before entering pool after beach visits
All towels and linens provided - no need to bring your own
Parking: Maximum 2 vehicles in driveway
No pets allowed (service animals welcome with prior notice)
Please dispose of trash in provided bins - pickup is Wednesday</textarea>
                </div>
                <button class="btn btn-success" onclick="updatePropertyRules()">Update Rules</button>
            </div>

            <div class="admin-card card">
                <h3>Emergency Contacts</h3>
                <div id="emergency-contacts-admin">
                    <div class="form-row" style="margin-bottom: 15px;">
                        <div class="form-group">
                            <label>Property Manager Phone</label>
                            <input type="tel" id="admin-pm-phone" value="(239) 574-1234">
                        </div>
                        <div class="form-group">
                            <label>Local Police Phone</label>
                            <input type="tel" id="admin-police-phone" value="(239) 574-3223">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Hospital Phone</label>
                            <input type="tel" id="admin-hospital-phone" value="(239) 343-2000">
                        </div>
                        <div class="form-group">
                            <label>Emergency Services</label>
                            <input type="tel" id="admin-emergency-phone" value="911" readonly>
                        </div>
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateEmergencyContacts()">Update Emergency Contacts</button>
            </div>

            <div class="admin-card card">
                <h3>Local Attractions Management</h3>
                <div class="form-group">
                    <label>Attractions (Format: Name | Type | Distance | Rating)</label>
                    <textarea id="admin-attractions" rows="8" style="width: 100%;">Yacht Club Beach | Beach | 6 min | 4.5
Cape Coral Beach at Four Freedoms Park | Beach | 8 min | 4.3
Rotary Park Environmental Center | Nature | 12 min | 4.4
Sun Splash Family Waterpark | Entertainment | 15 min | 4.1
Cape Coral Farmers Market | Shopping | 10 min | 4.2
Edison and Ford Winter Estates | Historical | 20 min | 4.6</textarea>
                </div>
                <button class="btn btn-success" onclick="updateAttractions()">Update Attractions</button>
                <p class="small-text">Format each line as: Name | Type | Distance | Rating</p>
            </div>

            <div class="admin-card card">
                <h3>Theme & Styling</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Primary Color (Cyan)</label>
                        <input type="color" id="admin-primary-color" value="#00B4D8">
                    </div>
                    <div class="form-group">
                        <label>Accent Color (Orange)</label>
                        <input type="color" id="admin-accent-color" value="#F77F00">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateTheme()">Update Theme Colors</button>
                <p class="small-text">Note: Color changes require page refresh to take full effect</p>
            </div>
        </div>

        <!-- Admin Data Management -->
        <div id="admin-data-page" style="display: none;">
            <h2>üíæ Data Management</h2>
            
            <div class="admin-card card">
                <h3>üì§ Export Data</h3>
                <p>Download all property data as backup</p>
                <button class="btn" onclick="exportData()">Export Property Data</button>
            </div>

            <div class="admin-card card">
                <h3>üì• Import Data</h3>
                <p>Upload property data from backup</p>
                <div class="form-group">
                    <textarea id="import-data" rows="10" placeholder="Paste JSON data here..."></textarea>
                </div>
                <button class="btn btn-success" onclick="importData()">Import Data</button>
            </div>

            <div class="admin-card card">
                <h3>üîÑ Reset to Defaults</h3>
                <p>Reset all data to original Cape Coral settings</p>
                <button class="btn btn-danger" onclick="if(confirm('Reset all data? This cannot be undone.')) resetData()">Reset Data</button>
            </div>
        </div>
    </div>

    <script>
        // Property data stored in localStorage for persistence
        let propertyData = {
            guestName: 'John & Sarah Smith',
            guestCount: 4,
            checkIn: '2025-07-18',
            checkOut: '2025-07-21',
            confirmation: 'ABC123',
            doorCode: '1234',
            wifiName: 'CapeCoral_Retreat_Guest',
            wifiPassword: 'Tropical2025!',
            propertyName: 'Cape Coral Home Retreat',
            propertyLocation: 'Cape Coral, Florida',
            primaryColor: '#00B4D8',
            accentColor: '#F77F00'
        };

        // Load saved data on page load
        function loadData() {
            const saved = localStorage.getItem('capeCoralData');
            if (saved) {
                propertyData = { ...propertyData, ...JSON.parse(saved) };
            }
            updateDisplays();
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('capeCoralData', JSON.stringify(propertyData));
        }

        // Update all display elements
        function updateDisplays() {
            document.getElementById('display-guest-name').textContent = propertyData.guestName;
            document.getElementById('display-checkin').textContent = propertyData.checkIn;
            document.getElementById('display-checkout').textContent = propertyData.checkOut;
            document.getElementById('display-guest-count').textContent = propertyData.guestCount;
            document.getElementById('display-confirmation').textContent = propertyData.confirmation;
            document.getElementById('display-door-code').textContent = propertyData.doorCode;
            document.getElementById('display-wifi-name').textContent = propertyData.wifiName;
            document.getElementById('display-wifi-password').textContent = propertyData.wifiPassword;
            
            document.getElementById('access-door-code').textContent = propertyData.doorCode;
            document.getElementById('access-wifi-name').textContent = propertyData.wifiName;
            document.getElementById('access-wifi-password').textContent = propertyData.wifiPassword;
        }

        function showPage(pageId, buttonElement) {
            // Hide all pages
            const pages = ['home-page', 'access-page', 'attractions-page', 'rules-page', 'emergency-page', 
                          'admin-login-page', 'admin-bookings-page', 'admin-property-page', 'admin-integrations-page', 'admin-data-page'];
            pages.forEach(page => {
                const element = document.getElementById(page);
                if (element) element.style.display = 'none';
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.style.display = 'block';
            } else {
                console.log('Page not found: ' + pageId + '-page');
            }
            
            // Update button states
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
        }

        function login() {
            const password = document.getElementById('admin-password').value;
            if (password === 'admin1128') {
                document.getElementById('guest-nav').style.display = 'none';
                document.getElementById('admin-nav').style.display = 'block';
                showPage('admin-bookings');
                loadAdminData();
                document.getElementById('admin-password').value = '';
            } else {
                alert('Invalid password');
            }
        }

        function logout() {
            document.getElementById('guest-nav').style.display = 'block';
            document.getElementById('admin-nav').style.display = 'none';
            showPage('home');
        }

        function loadAdminData() {
            document.getElementById('admin-guest-name').value = propertyData.guestName;
            document.getElementById('admin-guest-count').value = propertyData.guestCount;
            document.getElementById('admin-checkin').value = propertyData.checkIn;
            document.getElementById('admin-checkout').value = propertyData.checkOut;
            document.getElementById('admin-confirmation').value = propertyData.confirmation;
            document.getElementById('admin-door-code').value = propertyData.doorCode;
            document.getElementById('admin-wifi-name').value = propertyData.wifiName;
            document.getElementById('admin-wifi-password').value = propertyData.wifiPassword;
            
            // Load property data
            if (document.getElementById('admin-property-name')) {
                document.getElementById('admin-property-name').value = propertyData.propertyName || 'Cape Coral Home Retreat';
                document.getElementById('admin-property-location').value = propertyData.propertyLocation || 'Cape Coral, Florida';
                document.getElementById('admin-primary-color').value = propertyData.primaryColor || '#00B4D8';
                document.getElementById('admin-accent-color').value = propertyData.accentColor || '#F77F00';
            }
        }

        function updateBooking() {
            propertyData.guestName = document.getElementById('admin-guest-name').value;
            propertyData.guestCount = document.getElementById('admin-guest-count').value;
            propertyData.checkIn = document.getElementById('admin-checkin').value;
            propertyData.checkOut = document.getElementById('admin-checkout').value;
            propertyData.confirmation = document.getElementById('admin-confirmation').value;
            propertyData.doorCode = document.getElementById('admin-door-code').value;
            
            saveData();
            updateDisplays();
            
            const alert = document.createElement('div');
            alert.className = 'alert alert-success';
            alert.textContent = 'Booking information updated successfully!';
            document.querySelector('#admin-bookings-page').insertBefore(alert, document.querySelector('#admin-bookings-page').firstChild);
            setTimeout(() => alert.remove(), 3000);
        }

        function updateWifi() {
            propertyData.wifiName = document.getElementById('admin-wifi-name').value;
            propertyData.wifiPassword = document.getElementById('admin-wifi-password').value;
            
            saveData();
            updateDisplays();
            
            const alert = document.createElement('div');
            alert.className = 'alert alert-success';
            alert.textContent = 'WiFi information updated successfully!';
            document.querySelector('#admin-bookings-page').insertBefore(alert, document.querySelector('#admin-bookings-page').firstChild);
            setTimeout(() => alert.remove(), 3000);
        }

        function exportData() {
            const dataStr = JSON.stringify(propertyData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'cape-coral-data.json';
            link.click();
        }

        function importData() {
            try {
                const data = JSON.parse(document.getElementById('import-data').value);
                propertyData = { ...propertyData, ...data };
                saveData();
                updateDisplays();
                loadAdminData();
                alert('Data imported successfully!');
                document.getElementById('import-data').value = '';
            } catch (error) {
                alert('Invalid JSON format');
            }
        }

        function resetData() {
            propertyData = {
                guestName: 'John & Sarah Smith',
                guestCount: 4,
                checkIn: '2025-07-18',
                checkOut: '2025-07-21',
                confirmation: 'ABC123',
                doorCode: '1234',
                wifiName: 'CapeCoral_Retreat_Guest',
                wifiPassword: 'Tropical2025!'
            };
            saveData();
            updateDisplays();
            loadAdminData();
            alert('Data reset to defaults');
        }

        // Property management functions
        function updatePropertyInfo() {
            propertyData.propertyName = document.getElementById('admin-property-name').value;
            propertyData.propertyLocation = document.getElementById('admin-property-location').value;
            
            // Update the header display
            document.querySelector('.nav h1').textContent = 'üèñÔ∏è ' + propertyData.propertyName;
            document.querySelector('.nav p').textContent = propertyData.propertyLocation;
            
            saveData();
            showSuccessAlert('Property information updated successfully!', 'admin-property-page');
        }

        function updatePropertyRules() {
            const rules = document.getElementById('admin-property-rules').value;
            // Store rules for future use - could update the rules page dynamically
            propertyData.propertyRules = rules;
            saveData();
            showSuccessAlert('Property rules updated successfully!', 'admin-property-page');
        }

        function updateEmergencyContacts() {
            propertyData.pmPhone = document.getElementById('admin-pm-phone').value;
            propertyData.policePhone = document.getElementById('admin-police-phone').value;
            propertyData.hospitalPhone = document.getElementById('admin-hospital-phone').value;
            
            saveData();
            showSuccessAlert('Emergency contacts updated successfully!', 'admin-property-page');
        }

        function updateAttractions() {
            const attractions = document.getElementById('admin-attractions').value;
            propertyData.attractions = attractions;
            saveData();
            showSuccessAlert('Attractions updated successfully!', 'admin-property-page');
        }

        function updateTheme() {
            propertyData.primaryColor = document.getElementById('admin-primary-color').value;
            propertyData.accentColor = document.getElementById('admin-accent-color').value;
            
            // Apply theme changes immediately to some elements
            const style = document.createElement('style');
            style.textContent = `
                .btn { background: ${propertyData.primaryColor} !important; border-bottom-color: ${propertyData.accentColor} !important; }
                .card { border-left-color: ${propertyData.primaryColor} !important; }
                .nav { border-left-color: ${propertyData.primaryColor} !important; }
            `;
            document.head.appendChild(style);
            
            saveData();
            showSuccessAlert('Theme updated! Refresh page to see all changes.', 'admin-property-page');
        }

        function showSuccessAlert(message, pageId) {
            const alert = document.createElement('div');
            alert.className = 'alert alert-success';
            alert.textContent = message;
            document.querySelector('#' + pageId).insertBefore(alert, document.querySelector('#' + pageId).firstChild);
            setTimeout(() => alert.remove(), 3000);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            showPage('home');
            document.querySelector('.btn').classList.add('active');
        });
    </script>
</body>
</html>
