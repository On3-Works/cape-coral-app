<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cape Coral Home Retreat - Guest Portal</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
            min-height: 100vh;
        }
        .nav {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,180,216,0.1);
            border-left: 6px solid #00B4D8;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(245,158,11,0.1);
            border-left: 6px solid #F77F00;
        }
        .btn {
            background: linear-gradient(135deg, #00B4D8, #0096C7);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            border-bottom: 4px solid #F77F00;
            font-weight: 600;
            transition: all 0.2s ease;
            font-size: 14px;
        }
        .btn:hover {
            background: linear-gradient(135deg, #0096C7, #0077B6);
            transform: translateY(-1px);
        }
        .btn:active {
            transform: translateY(0);
        }
        .btn.active {
            background: linear-gradient(135deg, #0077B6, #023E8A);
            border-bottom-color: #D97706;
        }
        .btn-danger {
            background: linear-gradient(135deg, #EF4444, #DC2626);
            border-bottom-color: #B91C1C;
        }
        .btn-danger:hover {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
        }
        .btn-success {
            background: linear-gradient(135deg, #10B981, #059669);
            border-bottom-color: #047857;
        }
        .btn-success:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }
        .btn:disabled {
            background: #9CA3AF !important;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .card {
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            padding: 24px;
            margin: 20px 0;
            border-radius: 12px;
            border-left: 5px solid #00B4D8;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .admin-card {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border-left-color: #F59E0B;
        }
        .emergency-card {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left-color: #EF4444;
        }
        .attraction-card {
            background: linear-gradient(135deg, #FFFBEB, #FEF3C7);
            border-left-color: #F77F00;
            transition: all 0.2s ease;
        }
        .attraction-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(247,127,0,0.2);
        }
        h1, h2, h3 {
            color: #1F2937;
        }
        .phone-link {
            color: #00B4D8;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s ease;
        }
        .phone-link:hover {
            color: #0096C7;
        }
        .form-group {
            margin: 20px 0;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #374151;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: #00B4D8;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0,180,216,0.1);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .admin-login {
            max-width: 400px;
            margin: 50px auto;
            text-align: center;
        }
        .alert {
            padding: 16px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: 500;
        }
        .alert-success {
            background: linear-gradient(135deg, #D1FAE5, #A7F3D0);
            border-left: 4px solid #10B981;
            color: #065F46;
        }
        .alert-error {
            background: linear-gradient(135deg, #FEF2F2, #FECACA);
            border-left: 4px solid #EF4444;
            color: #991B1B;
        }
        .alert-info {
            background: linear-gradient(135deg, #DBEAFE, #BFDBFE);
            border-left: 4px solid #3B82F6;
            color: #1E40AF;
        }
        .small-text {
            font-size: 14px;
            color: #6B7280;
            margin-top: 5px;
        }
        .welcome-banner {
            background: linear-gradient(135deg, #00B4D8, #0077B6);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-bottom: 6px solid #F77F00;
            text-align: center;
        }
        .welcome-banner h2 {
            color: white;
            margin-bottom: 10px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        .nav-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 15px 0;
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .nav-grid {
                flex-direction: column;
                align-items: center;
            }
        }
        .integration-section {
            background: linear-gradient(135deg, #F0F9FF, #E0F2FE);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 5px solid #3B82F6;
        }
        .cleaning-history {
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="nav">
        <h1>üèñÔ∏è Cape Coral Home Retreat</h1>
        <p>123 SW 51st Terrace, Cape Coral, Florida</p>
        <div id="guest-nav" class="nav-grid">
            <button class="btn active" onclick="showPage('home', this)">üè† Welcome</button>
            <button class="btn" onclick="showPage('access', this)">üîë Access Info</button>
            <button class="btn" onclick="showPage('attractions', this)">üìç Attractions</button>
            <button class="btn" onclick="showPage('music', this)">üéµ Music</button>
            <button class="btn" onclick="showPage('rules', this)">üìã Rules</button>
            <button class="btn" onclick="showPage('emergency', this)">üìû Emergency</button>
            <button class="btn" id="admin-btn" onclick="showPage('admin-login', this)" style="display: none;">‚öôÔ∏è Admin</button>
        </div>
        <div id="admin-nav" class="nav-grid" style="display: none;">
            <button class="btn" onclick="showPage('admin-bookings', this)">üìÖ Bookings</button>
            <button class="btn" onclick="showPage('admin-property', this)">üè† Property</button>
            <button class="btn" onclick="showPage('admin-integrations', this)">üîó Integrations</button>
            <button class="btn" onclick="showPage('admin-data', this)">üíæ Data</button>
            <button class="btn btn-danger" onclick="logout()">üö™ Logout</button>
        </div>
    </div>

    <div class="content">
        <!-- Home Page -->
        <div id="home-page">
            <div class="welcome-banner">
                <h2>Welcome to Cape Coral Home Retreat!</h2>
                <p>Your tropical paradise awaits in beautiful Cape Coral, Florida!</p>
            </div>
            
            <div class="stats-grid">
                <div class="card">
                    <h3>üìÖ Current Booking</h3>
                    <p><strong>Guest:</strong> <span id="display-guest-name">John & Sarah Smith</span></p>
                    <p><strong>Check-in:</strong> <span id="display-checkin">2025-07-18</span></p>
                    <p><strong>Check-out:</strong> <span id="display-checkout">2025-07-21</span></p>
                    <p><strong>Guests:</strong> <span id="display-guest-count">4</span></p>
                    <p><strong>Confirmation:</strong> <span id="display-confirmation">ABC123</span></p>
                </div>
                
                <div class="card" style="border-left-color: #F77F00;">
                    <h3>üîë Access Information</h3>
                    <p><strong>Door Code:</strong> <span id="display-door-code">1234</span></p>
                    <p><strong>WiFi:</strong> <span id="display-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p><strong>Password:</strong> <span id="display-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Please keep this information secure</p>
                </div>
            </div>
        </div>

        <!-- Access Page -->
        <div id="access-page" style="display: none;">
            <h2>üîë Access Information</h2>
            <div class="stats-grid">
                <div class="card" style="background: linear-gradient(135deg, #DBEAFE, #BFDBFE); border-left-color: #2563EB;">
                    <h3>Door Access</h3>
                    <p style="font-size: 48px; font-weight: bold; color: #2563EB; margin: 15px 0; text-align: center;"><span id="access-door-code">1234</span></p>
                    <p style="text-align: center;">Enter this code on the front door keypad</p>
                </div>
                
                <div class="card" style="background: linear-gradient(135deg, #DCFCE7, #BBF7D0); border-left-color: #16A34A;">
                    <h3>WiFi Network</h3>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-name">CapeCoral_Retreat_Guest</span></p>
                    <p style="font-weight: bold; color: #16A34A; font-size: 18px;"><span id="access-wifi-password">Tropical2025!</span></p>
                    <p class="small-text">Connect your devices to stay online</p>
                </div>
            </div>
        </div>

        <!-- Attractions Page -->
        <div id="attractions-page" style="display: none;">
            <h2>üìç Local Attractions</h2>
            <div class="stats-grid">
                <div class="attraction-card">
                    <h3>Yacht Club Beach</h3>
                    <p>Beach ‚Ä¢ 2.5 miles (6 min drive) ‚Ä¢ ‚≠ê 4.5</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Beach at Four Freedoms Park</h3>
                    <p>Beach ‚Ä¢ 3.2 miles (8 min drive) ‚Ä¢ ‚≠ê 4.3</p>
                </div>
                <div class="attraction-card">
                    <h3>The Lobster Lady</h3>
                    <p>Restaurant ‚Ä¢ 4.8 miles (12 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
                <div class="attraction-card">
                    <h3>Rotary Park Environmental Center</h3>
                    <p>Nature ‚Ä¢ 5.1 miles (12 min drive) ‚Ä¢ ‚≠ê 4.4</p>
                </div>
                <div class="attraction-card">
                    <h3>Sun Splash Family Waterpark</h3>
                    <p>Entertainment ‚Ä¢ 6.3 miles (15 min drive) ‚Ä¢ ‚≠ê 4.1</p>
                </div>
                <div class="attraction-card">
                    <h3>Cape Coral Farmers Market</h3>
                    <p>Shopping ‚Ä¢ 4.2 miles (10 min drive) ‚Ä¢ ‚≠ê 4.2</p>
                </div>
                <div class="attraction-card">
                    <h3>Edison and Ford Winter Estates</h3>
                    <p>Historical ‚Ä¢ 8.7 miles (20 min drive) ‚Ä¢ ‚≠ê 4.6</p>
                </div>
                <div class="attraction-card">
                    <h3>Seed to Table</h3>
                    <p>Restaurant ‚Ä¢ 15.2 miles to Naples (25 min drive) ‚Ä¢ ‚≠ê 5.0</p>
                </div>
            </div>
        </div>

        <!-- Music/Spotify Page -->
        <div id="music-page" style="display: none;">
            <h2>üéµ Home Audio System</h2>
            
            <div class="card" style="background: linear-gradient(135deg, #1DB954, #1ed760); color: white; border-left-color: #1DB954;">
                <h3 style="color: white;">üéß Connect to Juke Audio System</h3>
                <p style="color: white; opacity: 0.9;">Control the house music from your device!</p>
                
                <div style="margin: 20px 0;">
                    <button class="btn" onclick="connectSpotify()" style="background: #1DB954; border-bottom-color: #17a74a;">
                        üéµ Connect Spotify
                    </button>
                    <button class="btn" onclick="showJukeInstructions()" style="background: #333; border-bottom-color: #1DB954;">
                        üì± Juke Audio App
                    </button>
                </div>
            </div>

            <div class="card">
                <h3>üé∂ Quick Setup Instructions</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>Method 1: Spotify Connect (Recommended)</h4>
                    <ol>
                        <li>Open <strong>Spotify</strong> on your phone or tablet</li>
                        <li>Play any song</li>
                        <li>Tap the <strong>"Devices"</strong> icon at the bottom</li>
                        <li>Select <strong>"Cape Coral Retreat Audio"</strong> from the list</li>
                        <li>Music will now play through the house speakers!</li>
                    </ol>
                </div>
                
                <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>Method 2: Juke Audio App</h4>
                    <ol>
                        <li>Download the <strong>"Juke Audio"</strong> app from App Store/Google Play</li>
                        <li>Connect to the house WiFi: <strong id="music-wifi-name">CapeCoral_Retreat_Guest</strong></li>
                        <li>Open Juke Audio app and select <strong>"Cape Coral Home"</strong></li>
                        <li>Log in with your Spotify, Apple Music, or other streaming service</li>
                        <li>Control volume and music from the app!</li>
                    </ol>
                </div>
            </div>

            <div class="card" style="border-left-color: #FF6B35;">
                <h3>üîä Audio Zones Available</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üè† Living Room</h4>
                        <p>Main entertainment area</p>
                        <button class="btn" onclick="selectZone('living')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üèä‚Äç‚ôÄÔ∏è Pool Area</h4>
                        <p>Outdoor speakers</p>
                        <button class="btn" onclick="selectZone('pool')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üç≥ Kitchen</h4>
                        <p>Cooking & dining</p>
                        <button class="btn" onclick="selectZone('kitchen')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                    <div style="background: #f1f5f9; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4>üè° Whole House</h4>
                        <p>All speakers</p>
                        <button class="btn" onclick="selectZone('all')" style="font-size: 12px; padding: 6px 12px;">Select Zone</button>
                    </div>
                </div>
                <div id="zone-selected" style="display: none; background: #d1fae5; padding: 10px; border-radius: 6px; margin: 10px 0; color: #065f46;">
                    <strong>‚úÖ Zone Selected:</strong> <span id="selected-zone"></span>
                </div>
            </div>

            <div class="card">
                <h3>üéµ Popular Playlists for Your Stay</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    <div style="background: linear-gradient(135deg, #ff9a9e, #fecfef); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('tropical')">
                        <h4>üå¥ Tropical Vibes</h4>
                        <p style="font-size: 14px;">Perfect for poolside relaxation</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #a8edea, #fed6e3); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('chill')">
                        <h4>üòå Chill Lounge</h4>
                        <p style="font-size: 14px;">Relaxing background music</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffecd2, #fcb69f); padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('party')">
                        <h4>üéâ Party Mix</h4>
                        <p style="font-size: 14px;">Upbeat songs for entertaining</p>
                    </div>
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px; border-radius: 10px; cursor: pointer;" onclick="openPlaylist('dinner')">
                        <h4 style="color: white;">üçΩÔ∏è Dinner Jazz</h4>
                        <p style="font-size: 14px; color: white;">Sophisticated dining ambiance</p>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #FFF3CD, #FFF8DC); border-left-color: #856404;">
                <h3>‚ö†Ô∏è Audio System Guidelines</h3>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li><strong>Volume:</strong> Please keep volume at reasonable levels, especially after 10 PM</li>
                    <li><strong>Pool Area:</strong> Outdoor speakers automatically turn off at 10 PM</li>
                    <li><strong>Troubleshooting:</strong> If music stops, check WiFi connection and restart the app</li>
                    <li><strong>Multiple Users:</strong> Only one device can control the system at a time</li>
                    <li><strong>Support:</strong> Contact property manager if you need assistance</li>
                </ul>
            </div>
        </div>

        <!-- Rules Page -->
        <div id="rules-page" style="display: none;">
            <h2>üìã Property Rules & Guidelines</h2>
            <div class="card">
                <p>‚úÖ Check-in: 4:00 PM - 9:00 PM (Please contact us if arriving after 9 PM)</p>
            </div>
            <div class="card">
                <p>‚úÖ Check-out: 11:00 AM (Late check-out available upon request)</p>
            </div>
            <div class="card">
                <p>‚úÖ No smoking anywhere on the property (including lanai and pool area)</p>
            </div>
            <div class="card">
                <p>‚úÖ Maximum occupancy: 6 guests</p>
            </div>
            <div class="card">
                <p>‚úÖ Quiet hours: 10:00 PM - 8:00 AM (Respect our neighbors)</p>
            </div>
            <div class="card">
                <p>‚úÖ Pool hours: 8:00 AM - 10:00 PM</p>
            </div>
            <div class="card">
                <p>‚úÖ No glass containers in pool area</p>
            </div>
            <div class="card">
                <p>‚úÖ Please rinse off before entering pool after beach visits</p>
            </div>
            <div class="card">
                <p>‚úÖ All towels and linens provided - no need to bring your own</p>
            </div>
            <div class="card">
                <p>‚úÖ Parking: Maximum 2 vehicles in driveway</p>
            </div>
            <div class="card">
                <p>‚úÖ No pets allowed (service animals welcome with prior notice)</p>
            </div>
            <div class="card">
                <p>‚úÖ Please dispose of trash in provided bins - pickup is Wednesday</p>
            </div>
        </div>

        <!-- Emergency Page -->
        <div id="emergency-page" style="display: none;">
            <h2>üìû Emergency Contacts</h2>
            <div class="stats-grid">
                <div class="emergency-card">
                    <h3>Property Manager</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395741234" class="phone-link">(239) 574-1234</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Emergency Services</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:911" class="phone-link">911</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Cape Coral Police</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12395743223" class="phone-link">(239) 574-3223</a>
                    </p>
                </div>
                <div class="emergency-card">
                    <h3>Lee Memorial Hospital</h3>
                    <p style="font-size: 28px; font-weight: bold; margin: 15px 0;">
                        <a href="tel:+12393432000" class="phone-link">(239) 343-2000</a>
                    </p>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="admin-login-page" style="display: none;">
            <div class="admin-login">
                <div class="admin-card card">
                    <h2>üîê Admin Access</h2>
                    <p>Enter admin password to manage property settings</p>
                    <div class="form-group">
                        <input type="password" id="admin-password" placeholder="Enter admin password" onkeypress="if(event.key==='Enter') login()">
                    </div>
                    <button class="btn btn-success" onclick="login()">Login</button>
                </div>
            </div>
        </div>

        <!-- Admin Bookings -->
        <div id="admin-bookings-page" style="display: none;">
            <h2>üìÖ Booking Management</h2>
            
            <div class="admin-card card">
                <h3>Current Booking Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Guest Name</label>
                        <input type="text" id="admin-guest-name" value="John & Sarah Smith">
                    </div>
                    <div class="form-group">
                        <label>Guest Count</label>
                        <input type="number" id="admin-guest-count" value="4" min="1" max="6">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Check-in Date</label>
                        <input type="date" id="admin-checkin" value="2025-07-18" onchange="validateDates()">
                    </div>
                    <div class="form-group">
                        <label>Check-out Date</label>
                        <input type="date" id="admin-checkout" value="2025-07-21" onchange="validateDates()">
                        <div class="form-group">
                            <input type="tel" id="cleaning-phone" placeholder="Phone Number" value="(239) 555-0199">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Schedule Cleaning After Check-out</label>
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <input type="date" id="cleaning-date" style="flex: 1; min-width: 150px;">
                        <input type="time" id="cleaning-time" value="11:30" style="flex: 1; min-width: 120px;">
                        <button class="btn" onclick="scheduleCleaningFromCheckout()">Auto-Schedule</button>
                    </div>
                    <p class="small-text">Auto-schedule will set cleaning 30 minutes after check-out time</p>
                </div>

                <div class="form-group">
                    <label>Cleaning Checklist</label>
                    <textarea id="cleaning-checklist" rows="8" style="width: 100%;">LIVING AREAS: ‚úì Vacuum all carpets and rugs ‚úì Mop all hard floors ‚úì Dust all surfaces
KITCHEN: ‚úì Clean countertops ‚úì Clean appliances ‚úì Restock supplies
BATHROOMS: ‚úì Clean and disinfect ‚úì Replace towels ‚úì Restock supplies
BEDROOMS: ‚úì Fresh linens ‚úì Vacuum floors ‚úì Dust surfaces
FINAL: ‚úì Set thermostat to 72¬∞F ‚úì Test WiFi ‚úì Check door code</textarea>
                </div>

                <div class="form-row">
                    <button class="btn btn-success" onclick="saveCleaningInfo()">Save Cleaning Details</button>
                    <button class="btn" onclick="sendCleaningReminder()">Send Reminder to Cleaner</button>
                </div>
            </div>
        </div>

        <!-- Admin Property -->
        <div id="admin-property-page" style="display: none;">
            <h2>üè† Property Management</h2>
            
            <div class="admin-card card">
                <h3>Property Information</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Property Name</label>
                        <input type="text" id="admin-property-name" value="Cape Coral Home Retreat">
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="admin-property-location" value="123 SW 51st Terrace, Cape Coral, Florida">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updatePropertyInfo()">Update Property Info</button>
            </div>

            <div class="admin-card card">
                <h3>Local Attractions Management</h3>
                <div class="form-group">
                    <label>Attractions (Format: Name | Type | Miles | Drive Time | Rating)</label>
                    <textarea id="admin-attractions" rows="10" style="width: 100%;">Yacht Club Beach | Beach | 2.5 miles | 6 min drive | 4.5
Cape Coral Beach at Four Freedoms Park | Beach | 3.2 miles | 8 min drive | 4.3
The Lobster Lady | Restaurant | 4.8 miles | 12 min drive | 5.0
Rotary Park Environmental Center | Nature | 5.1 miles | 12 min drive | 4.4
Sun Splash Family Waterpark | Entertainment | 6.3 miles | 15 min drive | 4.1
Cape Coral Farmers Market | Shopping | 4.2 miles | 10 min drive | 4.2
Edison and Ford Winter Estates | Historical | 8.7 miles | 20 min drive | 4.6
Seed to Table | Restaurant | 15.2 miles to Naples | 25 min drive | 5.0</textarea>
                </div>
                <button class="btn btn-success" onclick="updateAttractions()">Update Attractions</button>
                <p class="small-text">Format each line as: Name | Type | Miles | Drive Time | Rating</p>
            </div>
        </div>

        <!-- Admin Integrations -->
        <div id="admin-integrations-page" style="display: none;">
            <h2>üîó Platform Integrations</h2>
            
            <div class="integration-section">
                <h3>üè† Airbnb Integration</h3>
                <div class="alert-info">
                    <strong>Important:</strong> Airbnb doesn't provide direct API access for hosts. You'll need to use a Property Management System (PMS) as a bridge.
                </div>
                
                <h4>Recommended PMS Options:</h4>
                <div class="stats-grid">
                    <div class="card">
                        <h4>Hostfully</h4>
                        <p class="small-text">Syncs with Airbnb, VRBO, and provides API access for custom integrations.</p>
                        <button class="btn" onclick="window.open('https://hostfully.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>Guesty</h4>
                        <p class="small-text">Multi-platform management with webhook support for real-time updates.</p>
                        <button class="btn" onclick="window.open('https://guesty.com', '_blank')">Learn More</button>
                    </div>
                    <div class="card">
                        <h4>OwnerRez</h4>
                        <p class="small-text">Direct booking system with Airbnb sync and API access.</p>
                        <button class="btn" onclick="window.open('https://ownerrez.com', '_blank')">Learn More</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Data -->
        <div id="admin-data-page" style="display: none;">
            <h2>üíæ Data Management</h2>
            
            <div class="admin-card card">
                <h3>üì§ Export Data</h3>
                <p>Download all property data as backup</p>
                <button class="btn" onclick="exportData()">Export Property Data</button>
            </div>

            <div class="admin-card card">
                <h3>üì• Import Data</h3>
                <p>Upload property data from backup</p>
                <div class="form-group">
                    <textarea id="import-data" rows="10" placeholder="Paste JSON data here..."></textarea>
                </div>
                <button class="btn btn-success" onclick="importData()">Import Data</button>
            </div>
        </div>
    </div>

    <script>
        // Property data stored in localStorage for persistence
        let propertyData = {
            guestName: 'John & Sarah Smith',
            guestCount: 4,
            checkIn: '2025-07-18',
            checkOut: '2025-07-21',
            confirmation: 'ABC123',
            doorCode: '1234',
            wifiName: 'CapeCoral_Retreat_Guest',
            wifiPassword: 'Tropical2025!',
            propertyName: 'Cape Coral Home Retreat',
            propertyLocation: '123 SW 51st Terrace, Cape Coral, Florida',
            primaryColor: '#00B4D8',
            accentColor: '#F77F00'
        };

        // Load saved data on page load
        function loadData() {
            try {
                const saved = localStorage.getItem('capeCoralData');
                if (saved) {
                    propertyData = { ...propertyData, ...JSON.parse(saved) };
                }
            } catch (error) {
                console.log('No saved data found, using defaults');
            }
            updateDisplays();
        }

        // Save data to localStorage
        function saveData() {
            try {
                localStorage.setItem('capeCoralData', JSON.stringify(propertyData));
            } catch (error) {
                console.log('Could not save data');
            }
        }

        // Update all display elements
        function updateDisplays() {
            const elements = [
                { id: 'display-guest-name', value: propertyData.guestName },
                { id: 'display-checkin', value: propertyData.checkIn },
                { id: 'display-checkout', value: propertyData.checkOut },
                { id: 'display-guest-count', value: propertyData.guestCount },
                { id: 'display-confirmation', value: propertyData.confirmation },
                { id: 'display-door-code', value: propertyData.doorCode },
                { id: 'display-wifi-name', value: propertyData.wifiName },
                { id: 'display-wifi-password', value: propertyData.wifiPassword },
                { id: 'access-door-code', value: propertyData.doorCode },
                { id: 'access-wifi-name', value: propertyData.wifiName },
                { id: 'access-wifi-password', value: propertyData.wifiPassword },
                { id: 'music-wifi-name', value: propertyData.wifiName }
            ];

            elements.forEach(element => {
                const el = document.getElementById(element.id);
                if (el) el.textContent = element.value;
            });
        }

        function showPage(pageId, buttonElement) {
            // Hide all pages
            const pages = ['home', 'access', 'attractions', 'music', 'rules', 'emergency', 'admin-login', 
                          'admin-bookings', 'admin-property', 'admin-integrations', 'admin-data'];
            pages.forEach(page => {
                const element = document.getElementById(page + '-page');
                if (element) element.style.display = 'none';
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.style.display = 'block';
            }
            
            // Update button states
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (buttonElement) {
                buttonElement.classList.add('active');
            }
        }

        function login() {
            const password = document.getElementById('admin-password').value;
            if (password === 'admin1128') {
                document.getElementById('guest-nav').style.display = 'none';
                document.getElementById('admin-nav').style.display = 'flex';
                showPage('admin-bookings');
                loadAdminData();
                document.getElementById('admin-password').value = '';
            } else {
                showAlert('Invalid password', 'error');
            }
        }

        function logout() {
            document.getElementById('guest-nav').style.display = 'flex';
            document.getElementById('admin-nav').style.display = 'none';
            showPage('home');
        }

        function loadAdminData() {
            const adminFields = [
                { id: 'admin-guest-name', value: propertyData.guestName },
                { id: 'admin-guest-count', value: propertyData.guestCount },
                { id: 'admin-checkin', value: propertyData.checkIn },
                { id: 'admin-checkout', value: propertyData.checkOut },
                { id: 'admin-confirmation', value: propertyData.confirmation },
                { id: 'admin-door-code', value: propertyData.doorCode },
                { id: 'admin-wifi-name', value: propertyData.wifiName },
                { id: 'admin-wifi-password', value: propertyData.wifiPassword },
                { id: 'admin-property-name', value: propertyData.propertyName || 'Cape Coral Home Retreat' },
                { id: 'admin-property-location', value: propertyData.propertyLocation || '123 SW 51st Terrace, Cape Coral, Florida' }
            ];

            adminFields.forEach(field => {
                const el = document.getElementById(field.id);
                if (el) el.value = field.value;
            });
        }

        function validateDates() {
            const checkIn = new Date(document.getElementById('admin-checkin').value);
            const checkOut = new Date(document.getElementById('admin-checkout').value);
            const errorDiv = document.getElementById('date-error');
            const updateBtn = document.getElementById('update-booking-btn');
            
            const nextDay = new Date(checkIn);
            nextDay.setDate(nextDay.getDate() + 1);
            
            if (checkOut < nextDay) {
                errorDiv.style.display = 'block';
                updateBtn.disabled = true;
                return false;
            } else {
                errorDiv.style.display = 'none';
                updateBtn.disabled = false;
                return true;
            }
        }

        function updateBooking() {
            if (!validateDates()) return;
            
            propertyData.guestName = document.getElementById('admin-guest-name').value;
            propertyData.guestCount = parseInt(document.getElementById('admin-guest-count').value);
            propertyData.checkIn = document.getElementById('admin-checkin').value;
            propertyData.checkOut = document.getElementById('admin-checkout').value;
            propertyData.confirmation = document.getElementById('admin-confirmation').value;
            propertyData.doorCode = document.getElementById('admin-door-code').value;
            
            saveData();
            updateDisplays();
            showAlert('Booking information updated successfully!', 'success');
        }

        function updateWifi() {
            propertyData.wifiName = document.getElementById('admin-wifi-name').value;
            propertyData.wifiPassword = document.getElementById('admin-wifi-password').value;
            
            saveData();
            updateDisplays();
            showAlert('WiFi information updated successfully!', 'success');
        }

        function updatePropertyInfo() {
            propertyData.propertyName = document.getElementById('admin-property-name').value;
            propertyData.propertyLocation = document.getElementById('admin-property-location').value;
            
            // Update the header display immediately
            document.querySelector('.nav h1').textContent = 'üèñÔ∏è ' + propertyData.propertyName;
            document.querySelector('.nav p').textContent = propertyData.propertyLocation;
            
            saveData();
            showAlert('Property information updated successfully!', 'success');
        }

        function updateAttractions() {
            const attractions = document.getElementById('admin-attractions').value;
            propertyData.attractions = attractions;
            saveData();
            showAlert('Attractions updated successfully!', 'success');
        }

        function scheduleCleaningFromCheckout() {
            const checkOutDate = document.getElementById('admin-checkout').value;
            if (checkOutDate) {
                document.getElementById('cleaning-date').value = checkOutDate;
                document.getElementById('cleaning-time').value = '11:30';
                showAlert('Cleaning automatically scheduled for 30 minutes after checkout!', 'success');
            } else {
                showAlert('Please set a check-out date first', 'error');
            }
        }

        function saveCleaningInfo() {
            propertyData.cleaningCompany = document.getElementById('cleaning-company').value;
            propertyData.cleaningPhone = document.getElementById('cleaning-phone').value;
            propertyData.cleaningDate = document.getElementById('cleaning-date').value;
            propertyData.cleaningTime = document.getElementById('cleaning-time').value;
            propertyData.cleaningChecklist = document.getElementById('cleaning-checklist').value;
            
            saveData();
            showAlert('Cleaning information saved successfully!', 'success');
        }

        function sendCleaningReminder() {
            const company = document.getElementById('cleaning-company').value;
            const phone = document.getElementById('cleaning-phone').value;
            const date = document.getElementById('cleaning-date').value;
            const time = document.getElementById('cleaning-time').value;
            
            if (company && date && time) {
                const message = `Cleaning scheduled for ${company} on ${date} at ${time} for Cape Coral Home Retreat. Please confirm receipt.`;
                
                // Create SMS link (most reliable for mobile)
                const smsLink = `sms:${phone.replace(/\D/g, '')}?body=${encodeURIComponent(message)}`;
                window.open(smsLink);
                
                showAlert('Reminder sent to cleaning company!', 'success');
            } else {
                showAlert('Please fill in cleaning company, date, and time first', 'error');
            }
        }

        function exportData() {
            const dataStr = JSON.stringify(propertyData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'cape-coral-data.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        function importData() {
            try {
                const data = JSON.parse(document.getElementById('import-data').value);
                propertyData = { ...propertyData, ...data };
                saveData();
                updateDisplays();
                loadAdminData();
                showAlert('Data imported successfully!', 'success');
                document.getElementById('import-data').value = '';
            } catch (error) {
                showAlert('Invalid JSON format', 'error');
            }
        }

        function showAlert(message, type) {
            // Create a non-modal notification
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            alertDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 1000;
                max-width: 300px;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(alertDiv);
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 4000);
        }

        // Music/Audio System Functions
        function connectSpotify() {
            // Check if we're on mobile/tablet
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Try to open Spotify app directly
                const spotifyAppURL = 'spotify://';
                const spotifyWebURL = 'https://open.spotify.com';
                
                // Create a hidden iframe to attempt app launch
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = spotifyAppURL;
                document.body.appendChild(iframe);
                
                // Fallback to web version after a short delay
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    window.open(spotifyWebURL, '_blank');
                }, 1000);
                
                showAlert('Opening Spotify... Look for "Cape Coral Retreat Audio" in your devices list!', 'success');
            } else {
                // Desktop - open Spotify Web Player
                window.open('https://open.spotify.com', '_blank');
                showAlert('Spotify opened! Look for "Cape Coral Retreat Audio" in the devices list at the bottom of the player.', 'info');
            }
        }

        function showJukeInstructions() {
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/.test(navigator.userAgent);
            
            let appStoreURL;
            if (isIOS) {
                appStoreURL = 'https://apps.apple.com/search?term=juke%20audio';
            } else if (isAndroid) {
                appStoreURL = 'https://play.google.com/store/search?q=juke%20audio';
            } else {
                appStoreURL = 'https://jukeaudio.com/download';
            }
            
            window.open(appStoreURL, '_blank');
            showAlert('Download the Juke Audio app to control the house sound system directly!', 'info');
        }

        function selectZone(zone) {
            const zones = {
                'living': 'Living Room',
                'pool': 'Pool Area',
                'kitchen': 'Kitchen',
                'all': 'Whole House'
            };
            
            document.getElementById('selected-zone').textContent = zones[zone];
            document.getElementById('zone-selected').style.display = 'block';
            
            // Simulate zone selection (in real implementation, this would send command to Juke system)
            showAlert(`Audio zone set to: ${zones[zone]}`, 'success');
            
            // Hide the notification after showing the selected zone
            setTimeout(() => {
                document.getElementById('zone-selected').style.display = 'none';
            }, 5000);
        }

        function openPlaylist(type) {
            const playlists = {
                'tropical': 'https://open.spotify.com/playlist/37i9dQZF1DX0XUsuxWHRQd', // Tropical House Cruises
                'chill': 'https://open.spotify.com/playlist/37i9dQZF1DWS1zOdTE8uo8', // Chill Lofi Study Beats
                'party': 'https://open.spotify.com/playlist/37i9dQZF1DX0XUfTFmNBRM', // Feel Good Indie Rock
                'dinner': 'https://open.spotify.com/playlist/37i9dQZF1DX0SM0LYsmbMT' // Dinner Music
            };
            
            const playlistNames = {
                'tropical': 'Tropical Vibes',
                'chill': 'Chill Lounge',
                'party': 'Party Mix',
                'dinner': 'Dinner Jazz'
            };
            
            // Try to open Spotify app first on mobile
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Convert web URL to app URL
                const appURL = playlists[type].replace('https://open.spotify.com', 'spotify:');
                
                // Try app first, fallback to web
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = appURL;
                document.body.appendChild(iframe);
                
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    window.open(playlists[type], '_blank');
                }, 1000);
            } else {
                window.open(playlists[type], '_blank');
            }
            
            showAlert(`Opening ${playlistNames[type]} playlist! Remember to select "Cape Coral Retreat Audio" as your device.`, 'success');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            
            // Check for admin access parameter
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === 'true') {
                document.getElementById('admin-btn').style.display = 'inline-block';
            }
            
            // Secret key combination to show admin button (Ctrl+Shift+A)
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                    const adminBtn = document.getElementById('admin-btn');
                    if (adminBtn.style.display === 'none' || adminBtn.style.display === '') {
                        adminBtn.style.display = 'inline-block';
                        showAlert('Admin access enabled', 'success');
                    } else {
                        adminBtn.style.display = 'none';
                        // If currently in admin mode, logout
                        if (document.getElementById('admin-nav').style.display === 'flex') {
                            logout();
                        }
                        showAlert('Admin access hidden', 'info');
                    }
                    e.preventDefault();
                }
            });
            
            // Secret click sequence on property name (triple click)
            let clickCount = 0;
            document.querySelector('.nav h1').addEventListener('click', function() {
                clickCount++;
                if (clickCount === 3) {
                    document.getElementById('admin-btn').style.display = 'inline-block';
                    clickCount = 0;
                }
                setTimeout(() => clickCount = 0, 2000);
            });
            
            showPage('home');
            const firstBtn = document.querySelector('.btn');
            if (firstBtn) firstBtn.classList.add('active');
        });

        // Add CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> id="date-error" class="alert-error" style="display: none; margin-top: 8px; padding: 10px; border-radius: 6px;">
                            Check-out must be at least 1 day after check-in
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Confirmation Code</label>
                        <input type="text" id="admin-confirmation" value="ABC123">
                    </div>
                    <div class="form-group">
                        <label>Door Code</label>
                        <input type="text" id="admin-door-code" value="1234">
                    </div>
                </div>
                <button class="btn btn-success" id="update-booking-btn" onclick="updateBooking()">Update Booking Info</button>
            </div>

            <div class="admin-card card">
                <h3>WiFi Settings</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Network Name</label>
                        <input type="text" id="admin-wifi-name" value="CapeCoral_Retreat_Guest">
                    </div>
                    <div class="form-group">
                        <label>WiFi Password</label>
                        <input type="text" id="admin-wifi-password" value="Tropical2025!">
                    </div>
                </div>
                <button class="btn btn-success" onclick="updateWifi()">Update WiFi Info</button>
            </div>

            <div class="admin-card card">
                <h3>Cleaning Schedule & Management</h3>
                
                <div class="form-group">
                    <label>Cleaning Company Contact</label>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="cleaning-company" placeholder="Company Name" value="Cape Coral Cleaning Services">
                        </div>
                        <div
